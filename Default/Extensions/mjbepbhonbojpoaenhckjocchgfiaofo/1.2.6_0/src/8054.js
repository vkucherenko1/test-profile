"use strict";(self.webpackChunkacescript=self.webpackChunkacescript||[]).push([["8054"],{60903:function(e,t,i){i.r(t),i.d(t,{SimpleWorkerClient:()=>v,SimpleWorkerServer:()=>y,create:()=>S,logOnceWebWorkerWarning:()=>d});var s=i(87933),n=i(81549),o=i(55923),r=i(80418),a=i(86910),l=i(68278);let u="default",h="$initialize",c=!1;function d(e){a.$L&&(c||(c=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(e.message))}class p{constructor(e,t,i,s,n){this.vsWorker=e,this.req=t,this.channel=i,this.method=s,this.args=n,this.type=0}}class g{constructor(e,t,i,s){this.vsWorker=e,this.seq=t,this.res=i,this.err=s,this.type=1}}class m{constructor(e,t,i,s,n){this.vsWorker=e,this.req=t,this.channel=i,this.eventName=s,this.arg=n,this.type=2}}class _{constructor(e,t,i){this.vsWorker=e,this.req=t,this.event=i,this.type=3}}class f{constructor(e,t){this.vsWorker=e,this.req=t,this.type=4}}class C{setWorkerId(e){this._workerId=e}sendMessage(e,t,i){let s=String(++this._lastSentReq);return new Promise((n,o)=>{this._pendingReplies[s]={resolve:n,reject:o},this._send(new p(this._workerId,s,e,t,i))})}listen(e,t,i){let s=null,o=new n.Q5({onWillAddFirstListener:()=>{s=String(++this._lastSentReq),this._pendingEmitters.set(s,o),this._send(new m(this._workerId,s,e,t,i))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(s),this._send(new f(this._workerId,s)),s=null}});return o.event}handleMessage(e){e&&e.vsWorker&&(-1===this._workerId||e.vsWorker===this._workerId)&&this._handleMessage(e)}createProxyToRemoteChannel(e,t){return new Proxy(Object.create(null),{get:(i,s)=>{if("string"==typeof s&&!i[s]){if(x(s))i[s]=t=>this.listen(e,s,t);else if(w(s))i[s]=this.listen(e,s,void 0);else if(36===s.charCodeAt(0)){var n=this;i[s]=async function(){for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return await (null==t?void 0:t()),n.sendMessage(e,s,o)}}}return i[s]}})}_handleMessage(e){switch(e.type){case 1:return this._handleReplyMessage(e);case 0:return this._handleRequestMessage(e);case 2:return this._handleSubscribeEventMessage(e);case 3:return this._handleEventMessage(e);case 4:return this._handleUnsubscribeEventMessage(e)}}_handleReplyMessage(e){if(!this._pendingReplies[e.seq])return void console.warn("Got reply to unknown seq");let t=this._pendingReplies[e.seq];if(delete this._pendingReplies[e.seq],e.err){let i=e.err;e.err.$isError&&((i=Error()).name=e.err.name,i.message=e.err.message,i.stack=e.err.stack),t.reject(i);return}t.resolve(e.res)}_handleRequestMessage(e){let t=e.req;this._handler.handleMessage(e.channel,e.method,e.args).then(e=>{this._send(new g(this._workerId,t,e,void 0))},e=>{e.detail instanceof Error&&(e.detail=(0,s.ri)(e.detail)),this._send(new g(this._workerId,t,void 0,(0,s.ri)(e)))})}_handleSubscribeEventMessage(e){let t=e.req,i=this._handler.handleEvent(e.channel,e.eventName,e.arg)(e=>{this._send(new _(this._workerId,t,e))});this._pendingEvents.set(t,i)}_handleEventMessage(e){if(!this._pendingEmitters.has(e.req))return void console.warn("Got event for unknown req");this._pendingEmitters.get(e.req).fire(e.event)}_handleUnsubscribeEventMessage(e){if(!this._pendingEvents.has(e.req))return void console.warn("Got unsubscribe for unknown req");this._pendingEvents.get(e.req).dispose(),this._pendingEvents.delete(e.req)}_send(e){let t=[];if(0===e.type)for(let i=0;i<e.args.length;i++)e.args[i]instanceof ArrayBuffer&&t.push(e.args[i]);else 1===e.type&&e.res instanceof ArrayBuffer&&t.push(e.res);this._handler.sendMessage(e,t)}constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}}class v extends o.JT{_handleMessage(e,t,i){let s=this._localChannels.get(e);if(!s)return Promise.reject(Error(`Missing channel ${e} on main thread`));if("function"!=typeof s[t])return Promise.reject(Error(`Missing method ${t} on main thread channel ${e}`));try{return Promise.resolve(s[t].apply(s,i))}catch(e){return Promise.reject(e)}}_handleEvent(e,t,i){let s=this._localChannels.get(e);if(!s)throw Error(`Missing channel ${e} on main thread`);if(x(t)){let n=s[t].call(s,i);if("function"!=typeof n)throw Error(`Missing dynamic event ${t} on main thread channel ${e}.`);return n}if(w(t)){let i=s[t];if("function"!=typeof i)throw Error(`Missing event ${t} on main thread channel ${e}.`);return i}throw Error(`Malformed event name ${t}`)}setChannel(e,t){this._localChannels.set(e,t)}_onError(e,t){console.error(e),console.info(t)}constructor(e,t){super(),this._localChannels=new Map,this._worker=this._register(e.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:t.esmModuleLocation,label:t.label},e=>{this._protocol.handleMessage(e)},e=>{(0,s.dL)(e)})),this._protocol=new C({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t,i)=>this._handleMessage(e,t,i),handleEvent:(e,t,i)=>this._handleEvent(e,t,i)}),this._protocol.setWorkerId(this._worker.getId());let i=null,n=globalThis.require;void 0!==n&&"function"==typeof n.getConfig?i=n.getConfig():void 0!==globalThis.requirejs&&(i=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(u,h,[this._worker.getId(),JSON.parse(JSON.stringify(i)),t.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(u,async()=>{await this._onModuleLoaded}),this._onModuleLoaded.catch(e=>{this._onError("Worker failed to load "+t.amdModuleId,e)})}}function w(e){return"o"===e[0]&&"n"===e[1]&&l.df(e.charCodeAt(2))}function x(e){return/^onDynamic/.test(e)&&l.df(e.charCodeAt(9))}class y{onmessage(e){this._protocol.handleMessage(e)}_handleMessage(e,t,i){if(e===u&&t===h)return this.initialize(i[0],i[1],i[2]);let s=e===u?this._requestHandler:this._localChannels.get(e);if(!s)return Promise.reject(Error(`Missing channel ${e} on worker thread`));if("function"!=typeof s[t])return Promise.reject(Error(`Missing method ${t} on worker thread channel ${e}`));try{return Promise.resolve(s[t].apply(s,i))}catch(e){return Promise.reject(e)}}_handleEvent(e,t,i){let s=e===u?this._requestHandler:this._localChannels.get(e);if(!s)throw Error(`Missing channel ${e} on worker thread`);if(x(t)){let e=s[t].call(s,i);if("function"!=typeof e)throw Error(`Missing dynamic event ${t} on request handler.`);return e}if(w(t)){let e=s[t];if("function"!=typeof e)throw Error(`Missing event ${t} on request handler.`);return e}throw Error(`Malformed event name ${t}`)}getChannel(e){if(!this._remoteChannels.has(e)){let t=this._protocol.createProxyToRemoteChannel(e);this._remoteChannels.set(e,t)}return this._remoteChannels.get(e)}async initialize(e,t,s){if(this._protocol.setWorkerId(e),this._requestHandlerFactory){this._requestHandler=this._requestHandlerFactory(this);return}t&&(void 0!==t.baseUrl&&delete t.baseUrl,void 0!==t.paths&&void 0!==t.paths.vs&&delete t.paths.vs,void 0!==t.trustedTypesPolicy&&delete t.trustedTypesPolicy,t.catchError=!0,globalThis.require.config(t));{let e=r.Gi.asBrowserUri(`${s}.js`).toString(!0);return i(94412)(`${e}`).then(e=>{if(this._requestHandler=e.create(this),!this._requestHandler)throw Error("No RequestHandler!")})}}constructor(e,t){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=t,this._requestHandler=null,this._protocol=new C({sendMessage:(t,i)=>{e(t,i)},handleMessage:(e,t,i)=>this._handleMessage(e,t,i),handleEvent:(e,t,i)=>this._handleEvent(e,t,i)})}}function S(e){return new y(e,null)}},19934:function(e,t,i){i.d(t,{KV:()=>o,Ke:()=>d,Wm:()=>p});var s,n,o,r,a=i(58228),l=i(81549),u=i(55923),h=i(12019),c=i(67450);(s=o||(o={}))[s.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",s[s.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY",(n=r||(r={}))[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed";class d extends u.JT{registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){this._onDidChangeStorage.pause();try{var t,i;null==(t=e.changed)||t.forEach((e,t)=>this.acceptExternal(t,e)),null==(i=e.deleted)||i.forEach(e=>this.acceptExternal(e,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,t){if(this.state===r.Closed)return;let i=!1;(0,c.Jp)(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire({key:e,external:!0})}get(e,t){let i=this.cache.get(e);return(0,c.Jp)(i)?t:i}getBoolean(e,t){let i=this.get(e);return(0,c.Jp)(i)?t:"true"===i}getNumber(e,t){let i=this.get(e);return(0,c.Jp)(i)?t:parseInt(i,10)}async set(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.state===r.Closed)return;if((0,c.Jp)(t))return this.delete(e,i);let s=(0,c.Kn)(t)||Array.isArray(t)?(0,h.Pz)(t):String(t);if(this.cache.get(e)!==s)return this.cache.set(e,s),this.pendingInserts.set(e,s),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.state!==r.Closed&&this.cache.delete(e))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:t}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;let e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{if(!this.hasPending)for(;this.whenFlushedCallbacks.length;){var e;null==(e=this.whenFlushedCallbacks.pop())||e()}})}async doFlush(e){return this.options.hint===o.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)}constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new l.K3),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=r.None,this.cache=new Map,this.flushDelayer=this._register(new a.rH(d.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}}d.DEFAULT_FLUSH_DELAY=100;class p{async updateItems(e){var t,i;null==(t=e.insert)||t.forEach((e,t)=>this.items.set(t,e)),null==(i=e.delete)||i.forEach(e=>this.items.delete(e))}constructor(){this.onDidChangeItemsExternal=l.ju.None,this.items=new Map}}},39735:function(e,t,i){let s;var n=i(86423),o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,u=(e,t,i,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))l.call(e,n)||n===i||o(e,n,{get:()=>t[n],enumerable:!(s=r(t,n))||s.enumerable});return e},h={};u(h,n,"default"),s&&u(s,n,"default");var c={},d={},p=class e{static getOrCreate(t){return d[t]||(d[t]=new e(t)),d[t]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,c[this._languageId].loader().then(e=>this._lazyLoadPromiseResolve(e),e=>this._lazyLoadPromiseReject(e))),this._lazyLoadPromise}constructor(e){this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}};function g(e){let t=e.id;c[t]=e,h.languages.register(e);let i=p.getOrCreate(t);h.languages.registerTokensProviderFactory(t,{create:async()=>(await i.load()).language}),h.languages.onLanguageEncountered(t,async()=>{let e=await i.load();h.languages.setLanguageConfiguration(t,e.conf)})}g({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>i.e("9240").then(i.bind(i,4195))}),g({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>i.e("6855").then(i.bind(i,6393))}),g({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>i.e("4067").then(i.bind(i,41909))}),g({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>i.e("9278").then(i.bind(i,10561))}),g({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>i.e("4950").then(i.bind(i,26573))}),g({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>i.e("5284").then(i.bind(i,23264))}),g({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>i.e("6522").then(i.bind(i,99666))}),g({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>i.e("3218").then(i.bind(i,27577))}),g({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>i.e("6133").then(i.bind(i,40260))}),g({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>i.e("6133").then(i.bind(i,40260))}),g({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>i.e("4500").then(i.bind(i,1003))}),g({id:"csp",extensions:[".csp"],aliases:["CSP","csp"],loader:()=>i.e("9476").then(i.bind(i,73747))}),g({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>i.e("4206").then(i.bind(i,47501))}),g({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>i.e("7984").then(i.bind(i,80378))}),g({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>i.e("8760").then(i.bind(i,93410))}),g({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>i.e("4981").then(i.bind(i,84799))}),g({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>i.e("981").then(i.bind(i,24319))}),g({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>i.e("864").then(i.bind(i,43398))}),g({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>i.e("8940").then(i.bind(i,10291))}),g({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>i.e("5390").then(i.bind(i,58791))}),g({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>i.e("8826").then(i.bind(i,33811)).then(e=>e.TagAutoInterpolationDollar)}),g({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>i.e("8826").then(i.bind(i,33811)).then(e=>e.TagAngleInterpolationDollar)}),g({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>i.e("8826").then(i.bind(i,33811)).then(e=>e.TagBracketInterpolationDollar)}),g({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>i.e("8826").then(i.bind(i,33811)).then(e=>e.TagAngleInterpolationBracket)}),g({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>i.e("8826").then(i.bind(i,33811)).then(e=>e.TagBracketInterpolationBracket)}),g({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>i.e("8826").then(i.bind(i,33811)).then(e=>e.TagAutoInterpolationDollar)}),g({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>i.e("8826").then(i.bind(i,33811)).then(e=>e.TagAutoInterpolationBracket)}),g({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>i.e("1267").then(i.bind(i,50728))}),g({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>i.e("9336").then(i.bind(i,22358))}),g({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>i.e("4481").then(i.bind(i,51343))}),g({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>i.e("358").then(i.bind(i,34630))}),g({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>i.e("6242").then(i.bind(i,45109))}),g({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>i.e("5883").then(i.bind(i,39045))}),g({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>i.e("4841").then(i.bind(i,34798))}),g({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>i.e("6174").then(i.bind(i,17108))}),g({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>i.e("4038").then(i.bind(i,23006))}),g({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>i.e("4982").then(i.bind(i,19998))}),g({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>i.e("5061").then(i.bind(i,6506))}),g({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>i.e("4399").then(i.bind(i,74039))}),g({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>i.e("9466").then(i.bind(i,38513))}),g({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>i.e("203").then(i.bind(i,65909))}),g({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>i.e("8745").then(i.bind(i,53391))}),g({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>i.e("4006").then(i.bind(i,66646))}),g({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>i.e("2083").then(i.bind(i,34547))}),g({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>i.e("4115").then(i.bind(i,54564))}),g({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>i.e("4922").then(i.bind(i,76354))}),g({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>i.e("1353").then(i.bind(i,86814))}),g({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>i.e("297").then(i.bind(i,48400))}),g({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>i.e("8988").then(i.bind(i,41056))}),g({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>i.e("5098").then(i.bind(i,97113))}),g({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>i.e("4931").then(i.bind(i,29550))}),g({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>i.e("4629").then(i.bind(i,72742))}),g({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>i.e("2453").then(i.bind(i,35025))}),g({id:"pla",extensions:[".pla"],loader:()=>i.e("4537").then(i.bind(i,39320))}),g({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>i.e("3062").then(i.bind(i,77227))}),g({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>i.e("3303").then(i.bind(i,78978))}),g({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>i.e("9088").then(i.bind(i,216))}),g({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>i.e("3380").then(i.bind(i,96161))}),g({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>i.e("8551").then(i.bind(i,89076))}),g({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>i.e("5122").then(i.bind(i,89580))}),g({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>i.e("5575").then(i.bind(i,2168))}),g({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>i.e("2322").then(i.bind(i,55953))}),g({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>i.e("2565").then(i.bind(i,31734))}),g({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>i.e("3090").then(i.bind(i,95621))}),g({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>i.e("6349").then(i.bind(i,20258))}),g({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>i.e("9807").then(i.bind(i,80350))}),g({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>i.e("527").then(i.bind(i,23698))}),g({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>i.e("2872").then(i.bind(i,44113))}),g({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>i.e("1734").then(i.bind(i,55846))}),g({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>i.e("9149").then(i.bind(i,1064))}),g({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>i.e("8279").then(i.bind(i,45128))}),g({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>i.e("4974").then(i.bind(i,41622))}),g({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>i.e("9284").then(i.bind(i,13503))}),g({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>i.e("5233").then(i.bind(i,47281))}),g({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>i.e("1086").then(i.bind(i,64664))}),g({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>i.e("9889").then(i.bind(i,9860))}),g({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>i.e("4795").then(i.bind(i,63666))}),g({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>i.e("6110").then(i.bind(i,27460))}),g({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>i.e("2057").then(i.bind(i,54307))}),g({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>i.e("4887").then(i.bind(i,96087))}),g({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>i.e("4887").then(i.bind(i,96087))}),g({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>i.e("5553").then(i.bind(i,67859))}),g({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>i.e("5320").then(i.bind(i,71353))}),g({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>i.e("3732").then(i.bind(i,43847))}),g({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>i.e("9661").then(i.bind(i,49801))}),g({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>i.e("7874").then(i.bind(i,23353))}),g({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>i.e("2965").then(i.bind(i,67498))}),g({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>i.e("73").then(i.bind(i,23981))}),g({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>i.e("5789").then(i.bind(i,62145))})},56028:function(e,t,i){i.d(t,{N:()=>n});var s=i(51382);function n(e,t){e instanceof s.Z?(e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setFontVariationSettings(t.fontVariationSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)):(e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.fontVariationSettings=t.fontVariationSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px")}},2761:function(e,t,i){i.d(t,{z:()=>S});var s,n=i(80700),o=i(59434),r=i(81549),a=i(55923),l=i(58873),u=i(86910),h=i(13852),c=i(53048);class d{apply(e){let t=d._read(e,this.key);this.migrate(t,t=>d._read(e,t),(t,i)=>d._write(e,t,i))}static _read(e,t){if(void 0===e)return;let i=t.indexOf(".");if(i>=0){let s=t.substring(0,i);return this._read(e[s],t.substring(i+1))}return e[t]}static _write(e,t,i){let s=t.indexOf(".");if(s>=0){let n=t.substring(0,s);e[n]=e[n]||{},this._write(e[n],t.substring(s+1),i);return}e[t]=i}constructor(e,t){this.key=e,this.migrate=t}}function p(e,t){d.items.push(new d(e,t))}function g(e,t){p(e,(i,s,n)=>{if(void 0!==i){for(let[s,o]of t)if(i===s)return void n(e,o)}})}d.items=[],g("wordWrap",[[!0,"on"],[!1,"off"]]),g("lineNumbers",[[!0,"on"],[!1,"off"]]),g("cursorBlinking",[["visible","solid"]]),g("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),g("renderLineHighlight",[[!0,"line"],[!1,"none"]]),g("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),g("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),g("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),g("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),g("autoIndent",[[!1,"advanced"],[!0,"full"]]),g("matchBrackets",[[!0,"always"],[!1,"never"]]),g("renderFinalNewline",[[!0,"on"],[!1,"off"]]),g("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),g("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),g("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),p("autoClosingBrackets",(e,t,i)=>{!1===e&&(i("autoClosingBrackets","never"),void 0===t("autoClosingQuotes")&&i("autoClosingQuotes","never"),void 0===t("autoSurround")&&i("autoSurround","never"))}),p("renderIndentGuides",(e,t,i)=>{void 0!==e&&(i("renderIndentGuides",void 0),void 0===t("guides.indentation")&&i("guides.indentation",!!e))}),p("highlightActiveIndentGuide",(e,t,i)=>{void 0!==e&&(i("highlightActiveIndentGuide",void 0),void 0===t("guides.highlightActiveIndentation")&&i("guides.highlightActiveIndentation",!!e))});let m={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};p("suggest.filteredTypes",(e,t,i)=>{if(e&&"object"==typeof e){for(let s of Object.entries(m))!1===e[s[0]]&&void 0===t(`suggest.${s[1]}`)&&i(`suggest.${s[1]}`,!1);i("suggest.filteredTypes",void 0)}}),p("quickSuggestions",(e,t,i)=>{if("boolean"==typeof e){let t=e?"on":"off";i("quickSuggestions",{comments:t,strings:t,other:t})}}),p("experimental.stickyScroll.enabled",(e,t,i)=>{"boolean"==typeof e&&(i("experimental.stickyScroll.enabled",void 0),void 0===t("stickyScroll.enabled")&&i("stickyScroll.enabled",e))}),p("experimental.stickyScroll.maxLineCount",(e,t,i)=>{"number"==typeof e&&(i("experimental.stickyScroll.maxLineCount",void 0),void 0===t("stickyScroll.maxLineCount")&&i("stickyScroll.maxLineCount",e))}),p("codeActionsOnSave",(e,t,i)=>{if(e&&"object"==typeof e){let t=!1,s={};for(let i of Object.entries(e))"boolean"==typeof i[1]?(t=!0,s[i[0]]=i[1]?"explicit":"never"):s[i[0]]=i[1];t&&i("codeActionsOnSave",s)}}),p("codeActionWidget.includeNearbyQuickfixes",(e,t,i)=>{"boolean"==typeof e&&(i("codeActionWidget.includeNearbyQuickfixes",void 0),void 0===t("codeActionWidget.includeNearbyQuickFixes")&&i("codeActionWidget.includeNearbyQuickFixes",e))}),p("lightbulb.enabled",(e,t,i)=>{"boolean"==typeof e&&i("lightbulb.enabled",e?void 0:"off")});var _=i(59933),f=i(98742),C=i(45098),v=i(40610),w=i(68178),x=i(45012),y=i(19009);let S=class extends a.JT{_recomputeOptions(){let e=this._computeOptions(),t=M.checkEquals(this.options,e);null!==t&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}_computeOptions(){let e=this._readEnvConfiguration(),t=v.E4.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),i=this._readFontInfo(t),s={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:i,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:_.n.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return M.computeOptions(this._validatedOptions,s)}_readEnvConfiguration(){let e;return{extraEditorClassName:(e="",n.G6||n.MG||(e+="no-user-select "),n.G6&&(e+="no-minimap-shadow enable-user-select "),u.dz&&(e+="mac "),e),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:n.Pf||n.vU,pixelRatio:y.T.getInstance((0,x.ed)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return c.g.readFontInfo((0,x.ed)(this._targetWindowId,!0).window,e)}getRawOptions(){return this._rawOptions}updateOptions(e){let t=E(e);M.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=M.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){let t=function(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(e){this._glyphMarginDecorationLaneCount!==e&&(this._glyphMarginDecorationLaneCount=e,this._recomputeOptions())}constructor(e,t,i,s,n){super(),this._accessibilityService=n,this._onDidChange=this._register(new r.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new r.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new f.LJ,this.isSimpleWidget=e,this.contextMenuId=t,this._containerObserver=this._register(new h.I(s,i.dimension)),this._targetWindowId=(0,x.Jj)(s).vscodeWindowId,this._rawOptions=E(i),this._validatedOptions=M.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(C.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(_.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(c.g.onDidChange(()=>this._recomputeOptions())),this._register(y.T.getInstance((0,x.Jj)(s)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}};S=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([(s=w.F,function(e,t){s(e,t,4)})],S);class b{_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}constructor(){this._values=[]}}class T{_read(e){if(e>=this._values.length)throw Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,t){this._values[e]=t}constructor(){this._values=[]}}class M{static validateOptions(e){let t=new b;for(let i of f.Bc){let s="_never_"===i.name?void 0:e[i.name];t._write(i.id,i.validate(s))}return t}static computeOptions(e,t){let i=new T;for(let s of f.Bc)i._write(s.id,s.compute(t,i,e._read(s.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t||!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!!(Array.isArray(e)&&Array.isArray(t))&&o.fS(e,t);if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!M._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){let i=[],s=!1;for(let n of f.Bc){let o=!M._deepEquals(e._read(n.id),t._read(n.id));i[n.id]=o,o&&(s=!0)}return s?new f.Bb(i):null}static applyUpdate(e,t){let i=!1;for(let s of f.Bc)if(t.hasOwnProperty(s.name)){let n=s.applyUpdate(e[s.name],t[s.name]);e[s.name]=n.newValue,i=i||n.didChange}return i}}function E(e){let t=l.I8(e);return d.items.forEach(e=>e.apply(t)),t}},13852:function(e,t,i){i.d(t,{I:()=>r});var s=i(55923),n=i(81549),o=i(45012);class r extends s.JT{dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let e=null,t=()=>{e?this.observe({width:e.width,height:e.height}):this.observe()},i=!1,s=!1,n=()=>{if(i&&!s)try{i=!1,s=!0,t()}finally{(0,o.jL)((0,o.Jj)(this._referenceDomElement),()=>{s=!1,n()})}};this._resizeObserver=new ResizeObserver(t=>{e=t&&t[0]&&t[0].contentRect?{width:t[0].contentRect.width,height:t[0].contentRect.height}:null,i=!0,n()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,s=0;t?(i=t.width,s=t.height):this._referenceDomElement&&(i=this._referenceDomElement.clientWidth,s=this._referenceDomElement.clientHeight),i=Math.max(5,i),s=Math.max(5,s),(this._width!==i||this._height!==s)&&(this._width=i,this._height=s,e&&this._onDidChange.fire())}constructor(e,t){super(),this._onDidChange=this._register(new n.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=e,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,t)}}},53048:function(e,t,i){i.d(t,{g:()=>g});var s=i(45012),n=i(19009),o=i(81549),r=i(55923),a=i(56028);class l{fulfill(e){this.width=e}constructor(e,t){this.chr=e,this.type=t,this.width=0}}class u{read(e){var t;this._createDomElements(),e.document.body.appendChild(this._container),this._readFromDomElements(),null==(t=this._container)||t.remove(),this._container=null,this._testElements=null}_createDomElements(){let e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";let t=document.createElement("div");(0,a.N)(t,this._bareFontInfo),e.appendChild(t);let i=document.createElement("div");(0,a.N)(i,this._bareFontInfo),i.style.fontWeight="bold",e.appendChild(i);let s=document.createElement("div");(0,a.N)(s,this._bareFontInfo),s.style.fontStyle="italic",e.appendChild(s);let n=[];for(let e of this._requests){let o;0===e.type&&(o=t),2===e.type&&(o=i),1===e.type&&(o=s),o.appendChild(document.createElement("br"));let r=document.createElement("span");u._render(r,e),o.appendChild(r),n.push(r)}this._container=e,this._testElements=n}static _render(e,t){if(" "===t.chr){let t="\xa0";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){let t=this._requests[e],i=this._testElements[e];t.fulfill(i.offsetWidth/256)}}constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}}var h=i(98742),c=i(40610);class d extends r.JT{dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(e){let t=(0,s.ZY)(e),i=this._cache.get(t);return i||(i=new p,this._cache.set(t,i)),i}_writeToCache(e,t,i){this._ensureCache(e).put(t,i),i.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=e.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(e)},5e3))}_evictUntrustedReadings(e){let t=this._ensureCache(e),i=t.getValues(),s=!1;for(let e of i)e.isTrusted||(s=!0,t.remove(e));s&&this._onDidChange.fire()}readFontInfo(e,t){let i=this._ensureCache(e);if(!i.has(t)){let i=this._actualReadFontInfo(e,t);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new c.pR({pixelRatio:n.T.getInstance(e).value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),middotWidth:Math.max(i.middotWidth,5),wsmiddotWidth:Math.max(i.wsmiddotWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(e,t,i)}return i.get(t)}_createRequest(e,t,i,s){let n=new l(e,t);return i.push(n),null==s||s.push(n),n}_actualReadFontInfo(e,t){let i=[],s=[],o=this._createRequest("n",0,i,s),r=this._createRequest("ｍ",0,i,null),a=this._createRequest(" ",0,i,s),l=this._createRequest("0",0,i,s),d=this._createRequest("1",0,i,s),p=this._createRequest("2",0,i,s),g=this._createRequest("3",0,i,s),m=this._createRequest("4",0,i,s),_=this._createRequest("5",0,i,s),f=this._createRequest("6",0,i,s),C=this._createRequest("7",0,i,s),v=this._createRequest("8",0,i,s),w=this._createRequest("9",0,i,s),x=this._createRequest("→",0,i,s),y=this._createRequest("￫",0,i,null),S=this._createRequest("\xb7",0,i,s),b=this._createRequest(String.fromCharCode(11825),0,i,null),T="|/-_ilm%";for(let e=0,t=T.length;e<t;e++)this._createRequest(T.charAt(e),0,i,s),this._createRequest(T.charAt(e),1,i,s),this._createRequest(T.charAt(e),2,i,s);new u(t,i).read(e);let M=Math.max(l.width,d.width,p.width,g.width,m.width,_.width,f.width,C.width,v.width,w.width),E=t.fontFeatureSettings===h.n0.OFF,A=s[0].width;for(let e=1,t=s.length;E&&e<t;e++){let t=A-s[e].width;if(t<-.001||t>.001){E=!1;break}}let L=!0;return E&&y.width!==A&&(L=!1),y.width>x.width&&(L=!1),new c.pR({pixelRatio:n.T.getInstance(e).value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,fontVariationSettings:t.fontVariationSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:E,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:L,spaceWidth:a.width,middotWidth:S.width,wsmiddotWidth:b.width,maxDigitWidth:M},!0)}constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new o.Q5),this.onDidChange=this._onDidChange.event}}class p{has(e){let t=e.getId();return!!this._values[t]}get(e){let t=e.getId();return this._values[t]}put(e,t){let i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){let t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}constructor(){this._keys=Object.create(null),this._values=Object.create(null)}}let g=new d},59933:function(e,t,i){i.d(t,{n:()=>n});var s=i(81549);let n=new class{getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus)}constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new s.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}}},86794:function(e,t,i){i.d(t,{Iq:()=>C,ZP:()=>_,rp:()=>S,sB:()=>m});var s,n=i(43677),o=i(44835),r=i(20644),a=i(15970),l=i(37181),u=i(47968),h=i(45012),c=i(49759),d=i(46514);class p{constructor(e=null){this.hitTarget=e,this.type=0}}class g{get hitTarget(){return this.spanNode}constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}(s||(s={})).createFromDOMInfo=function(e,t,i){let s=e.getPositionFromDOMInfo(t,i);return s?new g(s,t,null):new p(t)};class m{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class _{static _deduceRage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!t&&e?new l.e(e.lineNumber,e.column,e.lineNumber,e.column):t??null}static createUnknown(e,t,i){return{type:0,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createTextarea(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}static createMargin(e,t,i,s,n,o){return{type:e,element:t,mouseColumn:i,position:s,range:n,detail:o}}static createViewZone(e,t,i,s,n){return{type:e,element:t,mouseColumn:i,position:s,range:this._deduceRage(s),detail:n}}static createContentText(e,t,i,s,n){return{type:6,element:e,mouseColumn:t,position:i,range:this._deduceRage(i,s),detail:n}}static createContentEmpty(e,t,i,s){return{type:7,element:e,mouseColumn:t,position:i,range:this._deduceRage(i),detail:s}}static createContentWidget(e,t,i){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createScrollbar(e,t,i){return{type:11,element:e,mouseColumn:t,position:i,range:this._deduceRage(i)}}static createOverlayWidget(e,t,i){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:i}}static createOutsideEditor(e,t,i,s){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t),outsidePosition:i,outsideDistance:s}}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class f{static isTextArea(e){return 2===e.length&&3===e[0]&&7===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&8===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&8===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&6===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&9===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowGuard(e){return e.length>=1&&3===e[0]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}static isChildOfOverflowingOverlayWidgets(e){return e.length>=1&&5===e[0]}}class C{getZoneAtCoord(e){return C.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){let i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){let s,n=i.verticalOffset+i.height/2,o=e.viewModel.getLineCount(),r=null,l=null;return i.afterLineNumber!==o&&(l=new a.L(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new a.L(i.afterLineNumber,e.viewModel.getLineMaxColumn(i.afterLineNumber))),s=null===l?r:null===r?l:t<n?r:l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:l,position:s}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){let e=this._context.viewModel.getLineCount(),t=this._context.viewModel.getLineMaxColumn(e);return{range:new l.e(e,t,e,t),isAfterLines:!0}}let t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.viewModel.getLineMaxColumn(t);return{range:new l.e(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return C._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==e.ownerDocument.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)break;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}constructor(e,t,i){this.viewModel=e.viewModel;let s=e.configuration.options;this.layoutInfo=s.get(146),this.viewDomNode=t.viewDomNode,this.lineHeight=s.get(67),this.stickyTabStops=s.get(117),this.typicalHalfwidthCharacterWidth=s.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}}class v{constructor(e,t,i,s){this.editorPos=t,this.pos=i,this.relativePos=s,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,S._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class w extends v{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=o.K.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&null!==this.hitTestResult.value.hitTarget&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?u.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return _.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return _.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,t,i,s){return _.createMargin(e,this.target,this._getMouseColumn(t),t,i,s)}fulfillViewZone(e,t,i){return _.createViewZone(e,this.target,this._getMouseColumn(t),t,i)}fulfillContentText(e,t,i){return _.createContentText(this.target,this._getMouseColumn(e),e,t,i)}fulfillContentEmpty(e,t){return _.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}fulfillContentWidget(e){return _.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return _.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return _.createOverlayWidget(this.target,this._getMouseColumn(),e)}constructor(e,t,i,s,n){super(e,t,i,s),this.hitTestResult=new d.o(()=>S.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=e,this._eventTarget=n;let o=!!this._eventTarget;this._useHitTestTarget=!o}}let x={isAfterLines:!0};function y(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class S{mouseTargetIsWidget(e){let t=e.target,i=o.K.collect(t,this._viewHelper.viewDomNode);return!!(f.isChildOfContentWidgets(i)||f.isChildOfOverflowingContentWidgets(i)||f.isChildOfOverlayWidgets(i)||f.isChildOfOverflowingOverlayWidgets(i))}createMouseTarget(e,t,i,s,n){let o=new C(this._context,this._viewHelper,e),r=new w(o,t,i,s,n);try{let e=S._createMouseTarget(o,r);if(6===e.type&&o.stickyTabStops&&null!==e.position){let t=S._snapToSoftTabBoundary(e.position,o.viewModel),i=l.e.fromPositions(t,t).plusRange(e.range);return r.fulfillContentText(t,i,e.detail)}return e}catch(e){return r.fulfillUnknown()}}static _createMouseTarget(e,t){if(null===t.target)return t.fulfillUnknown();let i=null;return f.isChildOfOverflowGuard(t.targetPath)||f.isChildOfOverflowingContentWidgets(t.targetPath)||f.isChildOfOverflowingOverlayWidgets(t.targetPath)||(i=i||t.fulfillUnknown()),(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i||S._hitTestContentWidget(e,t))||S._hitTestOverlayWidget(e,t))||S._hitTestMinimap(e,t))||S._hitTestScrollbarSlider(e,t))||S._hitTestViewZone(e,t))||S._hitTestMargin(e,t))||S._hitTestViewCursor(e,t))||S._hitTestTextArea(e,t))||S._hitTestViewLines(e,t))||S._hitTestScrollbar(e,t))||t.fulfillUnknown()}static _hitTestContentWidget(e,t){if(f.isChildOfContentWidgets(t.targetPath)||f.isChildOfOverflowingContentWidgets(t.targetPath)){let i=e.findAttribute(t.target,"widgetId");return i?t.fulfillContentWidget(i):t.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,t){if(f.isChildOfOverlayWidgets(t.targetPath)||f.isChildOfOverflowingOverlayWidgets(t.targetPath)){let i=e.findAttribute(t.target,"widgetId");return i?t.fulfillOverlayWidget(i):t.fulfillUnknown()}return null}static _hitTestViewCursor(e,t){if(t.target){for(let i of e.lastRenderData.lastViewCursorsRenderData)if(t.target===i.domNode)return t.fulfillContentText(i.position,null,{mightBeForeignElement:!1,injectedText:null})}if(t.isInContentArea){let i=e.lastRenderData.lastViewCursorsRenderData,s=t.mouseContentHorizontalOffset,n=t.mouseVerticalOffset;for(let o of i){if(s<o.contentLeft||s>o.contentLeft+o.width)continue;let i=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(i<=n&&n<=i+o.height)return t.fulfillContentText(o.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,t){let i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){let e=t.isInContentArea?8:5;return t.fulfillViewZone(e,i.position,i)}return null}static _hitTestTextArea(e,t){return f.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}static _hitTestMargin(e,t){if(t.isInMarginArea){let i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),s=i.range.getStartPosition(),n=Math.abs(t.relativePos.x),o={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:n};if((n-=e.layoutInfo.glyphMarginLeft)<=e.layoutInfo.glyphMarginWidth){let r=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i.range.getStartPosition());return o.glyphMarginLane=e.viewModel.glyphLanes.getLanesAtLine(r.lineNumber)[Math.floor(n/e.lineHeight)],t.fulfillMargin(2,s,i.range,o)}return(n-=e.layoutInfo.glyphMarginWidth)<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,s,i.range,o):(n-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,s,i.range,o))}return null}static _hitTestViewLines(e,t){if(!f.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfillContentEmpty(new a.L(1,1),x);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){let i=e.viewModel.getLineCount(),s=e.viewModel.getLineMaxColumn(i);return t.fulfillContentEmpty(new a.L(i,s),x)}if(f.isStrictChildOfViewLines(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.viewModel.getLineLength(i)){let s=e.getLineWidth(i),n=y(t.mouseContentHorizontalOffset-s);return t.fulfillContentEmpty(new a.L(i,1),n)}let s=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>=s){let n=y(t.mouseContentHorizontalOffset-s),o=new a.L(i,e.viewModel.getLineMaxColumn(i));return t.fulfillContentEmpty(o,n)}}let i=t.hitTestResult.value;return 1===i.type?S.createMouseTargetFromHitTestPosition(e,t,i.spanNode,i.position,i.injectedText):t.wouldBenefitFromHitTestTargetSwitch?(t.switchToHitTestTarget(),this._createMouseTarget(e,t)):t.fulfillUnknown()}static _hitTestMinimap(e,t){if(f.isChildOfMinimap(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new a.L(i,s))}return null}static _hitTestScrollbarSlider(e,t){if(f.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){let i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new a.L(i,s))}}return null}static _hitTestScrollbar(e,t){if(f.isChildOfScrollableElement(t.targetPath)){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new a.L(i,s))}return null}getMouseColumn(e){let t=this._context.configuration.options,i=t.get(146),s=this._context.viewLayout.getCurrentScrollLeft()+e.x-i.contentLeft;return S._getMouseColumn(s,t.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,s,n){let o=s.lineNumber,r=s.column,u=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>u){let e=y(t.mouseContentHorizontalOffset-u);return t.fulfillContentEmpty(s,e)}let c=e.visibleRangeForPosition(o,r);if(!c)return t.fulfillUnknown(s);let d=c.left;if(1>Math.abs(t.mouseContentHorizontalOffset-d))return t.fulfillContentText(s,null,{mightBeForeignElement:!!n,injectedText:n});let p=[];if(p.push({offset:c.left,column:r}),r>1){let t=e.visibleRangeForPosition(o,r-1);t&&p.push({offset:t.left,column:r-1})}if(r<e.viewModel.getLineMaxColumn(o)){let t=e.visibleRangeForPosition(o,r+1);t&&p.push({offset:t.left,column:r+1})}p.sort((e,t)=>e.offset-t.offset);let g=t.pos.toClientCoordinates(h.Jj(e.viewDomNode)),m=i.getBoundingClientRect(),_=m.left<=g.clientX&&g.clientX<=m.right,f=null;for(let e=1;e<p.length;e++){let i=p[e-1],n=p[e];if(i.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=n.offset){f=new l.e(o,i.column,o,n.column),s=Math.abs(i.offset-t.mouseContentHorizontalOffset)<Math.abs(n.offset-t.mouseContentHorizontalOffset)?new a.L(o,i.column):new a.L(o,n.column);break}}return t.fulfillContentText(s,f,{mightBeForeignElement:!_||!!n,injectedText:n})}static _doHitTestWithCaretRangeFromPoint(e,t){let i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),s=e.getVerticalOffsetForLineNumber(i),o=s+e.lineHeight;if(!(i===e.viewModel.getLineCount()&&t.mouseVerticalOffset>o)){let i=Math.floor((s+o)/2),r=t.pos.y+(i-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+t.editorPos.height&&(r=t.editorPos.y+t.editorPos.height-1);let a=new n.YN(t.pos.x,r),l=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates(h.Jj(e.viewDomNode)));if(1===l.type)return l}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates(h.Jj(e.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(e,t){let i,n=h.Ay(e.viewDomNode);if(!(i=n?void 0===n.caretRangeFromPoint?function(e,t,i){let s=document.createRange(),n=e.elementFromPoint(t,i);if(null!==n){let e;for(;n&&n.firstChild&&n.firstChild.nodeType!==n.firstChild.TEXT_NODE&&n.lastChild&&n.lastChild.firstChild;)n=n.lastChild;let i=n.getBoundingClientRect(),o=h.Jj(n),r=o.getComputedStyle(n,null).getPropertyValue("font-style"),a=o.getComputedStyle(n,null).getPropertyValue("font-variant"),l=o.getComputedStyle(n,null).getPropertyValue("font-weight"),u=o.getComputedStyle(n,null).getPropertyValue("font-size"),c=o.getComputedStyle(n,null).getPropertyValue("line-height"),d=o.getComputedStyle(n,null).getPropertyValue("font-family"),p=`${r} ${a} ${l} ${u}/${c} ${d}`,g=n.innerText,m=i.left,_=0;if(t>i.left+i.width)_=g.length;else{let i=b.getInstance();for(let s=0;s<g.length+1;s++){if(t<(m+=e=i.getCharWidth(g.charAt(s),p)/2)){_=s;break}m+=e}}s.setStart(n.firstChild,_),s.setEnd(n.firstChild,_)}return s}(n,t.clientX,t.clientY):n.caretRangeFromPoint(t.clientX,t.clientY):e.viewDomNode.ownerDocument.caretRangeFromPoint(t.clientX,t.clientY))||!i.startContainer)return new p;let o=i.startContainer;if(o.nodeType===o.TEXT_NODE){let t=o.parentNode,n=t?t.parentNode:null,a=n?n.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===r.Nt.CLASS_NAME?s.createFromDOMInfo(e,t,i.startOffset):new p(o.parentNode)}if(o.nodeType===o.ELEMENT_NODE){let t=o.parentNode,i=t?t.parentNode:null;return(i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===r.Nt.CLASS_NAME?s.createFromDOMInfo(e,o,o.textContent.length):new p(o)}return new p}static _doHitTestWithCaretPositionFromPoint(e,t){let i=e.viewDomNode.ownerDocument.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){let t=i.offsetNode.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;return(o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===r.Nt.CLASS_NAME?s.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new p(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){let t=i.offsetNode.parentNode,n=t&&t.nodeType===t.ELEMENT_NODE?t.className:null,o=t?t.parentNode:null,a=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(n===r.Nt.CLASS_NAME){let t=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(t)return s.createFromDOMInfo(e,t,0)}else if(a===r.Nt.CLASS_NAME)return s.createFromDOMInfo(e,i.offsetNode,0)}return new p(i.offsetNode)}static _snapToSoftTabBoundary(e,t){let i=t.getLineContent(e.lineNumber),{tabSize:s}=t.model.getOptions(),n=c.l.atomicPosition(i,e.column-1,s,2);return -1!==n?new a.L(e.lineNumber,n+1):e}static doHitTest(e,t){let i=new p;if("function"==typeof e.viewDomNode.ownerDocument.caretRangeFromPoint?i=this._doHitTestWithCaretRangeFromPoint(e,t):e.viewDomNode.ownerDocument.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates(h.Jj(e.viewDomNode)))),1===i.type){let t=e.viewModel.getInjectedTextAt(i.position),s=e.viewModel.normalizePosition(i.position,2);(t||!s.equals(i.position))&&(i=new g(s,i.spanNode,t))}return i}constructor(e,t){this._context=e,this._viewHelper=t}}class b{static getInstance(){return b._INSTANCE||(b._INSTANCE=new b),b._INSTANCE}getCharWidth(e,t){let i=e+t;if(this._cache[i])return this._cache[i];let s=this._canvas.getContext("2d");s.font=t;let n=s.measureText(e).width;return this._cache[i]=n,n}constructor(){this._cache={},this._canvas=document.createElement("canvas")}}b._INSTANCE=null},44258:function(e,t,i){i.d(t,{a:()=>T});var s=i(64545),n=i(45012),o=i(28033),r=i(79591),a=i(55923),l=i(86910),u=i(99841),h=i(86794),c=i(43677),d=i(45098),p=i(15970),g=i(39005),m=i(18546),_=i(72371);class f extends m.O{_setupMouseWheelZoomListener(){let e=_.Io.INSTANCE,t=0,i=d.C.getZoomLevel(),s=!1,o=0,r=n=>{if(this.viewController.emitMouseWheel(n),!this._context.configuration.options.get(76))return;let r=new u.q(n);if(e.acceptStandardWheelEvent(r),e.isPhysicalMouseWheel()){if(a(n)){let e=d.C.getZoomLevel(),t=r.deltaY>0?1:-1;d.C.setZoomLevel(e+t),r.preventDefault(),r.stopPropagation()}}else Date.now()-t>50&&(i=d.C.getZoomLevel(),s=a(n),o=0),t=Date.now(),o+=r.deltaY,s&&(d.C.setZoomLevel(i+o/5),r.preventDefault(),r.stopPropagation())};function a(e){return l.dz?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey}this._register(n.nm(this.viewHelper.viewDomNode,n.tw.MOUSE_WHEEL,r,{capture:!0,passive:!1}))}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(146)){let e=this._context.configuration.options.get(146).height;this._height!==e&&(this._height=e,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}getTargetAtClientPoint(e,t){let i=new c.rU(e,t).toPageCoordinates(n.Jj(this.viewHelper.viewDomNode)),s=(0,c.kG)(this.viewHelper.viewDomNode);if(i.y<s.y||i.y>s.y+s.height||i.x<s.x||i.x>s.x+s.width)return null;let o=(0,c.Pp)(this.viewHelper.viewDomNode,s,i);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s,i,o,null)}_createMouseTarget(e,t){let i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){let t=n.Ay(this.viewHelper.viewDomNode);t&&(i=t.elementsFromPoint(e.posx,e.posy).find(e=>this.viewHelper.viewDomNode.contains(e)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!this._mouseDownOperation.isActive()&&(e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)}))}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,t){let i=this._createMouseTarget(e,!0),s=6===i.type||7===i.type,n=2===i.type||3===i.type||4===i.type,o=3===i.type,r=this._context.configuration.options.get(110),a=8===i.type||5===i.type,u=9===i.type,h=e.leftButton||e.middleButton;l.dz&&e.leftButton&&e.ctrlKey&&(h=!1);let c=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(h&&(s||o&&r))c(),this._mouseDownOperation.start(i.type,e,t);else if(n)e.preventDefault();else if(a){let s=i.detail;h&&this.viewHelper.shouldSuppressMouseDownOnViewZone(s.viewZoneId)&&(c(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else u&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(c(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}constructor(e,t,i){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new h.rp(this._context,i),this._mouseDownOperation=this._register(new C(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(e,t)=>this._createMouseTarget(e,t),e=>this._getMouseColumn(e))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(146).height;let s=new c.N5(this.viewHelper.viewDomNode);this._register(s.onContextMenu(this.viewHelper.viewDomNode,e=>this._onContextMenu(e,!0))),this._register(s.onMouseMove(this.viewHelper.viewDomNode,e=>{this._onMouseMove(e),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=n.nm(this.viewHelper.viewDomNode.ownerDocument,"mousemove",e=>{this.viewHelper.viewDomNode.contains(e.target)||this._onMouseLeave(new c.gy(e,!1,this.viewHelper.viewDomNode))}))})),this._register(s.onMouseUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(s.onMouseLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e)));let o=0;this._register(s.onPointerDown(this.viewHelper.viewDomNode,(e,t)=>{o=t})),this._register(n.nm(this.viewHelper.viewDomNode,n.tw.POINTER_UP,e=>{this._mouseDownOperation.onPointerUp()})),this._register(s.onMouseDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e,o))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}}class C extends a.JT{dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);let t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):13===t.type&&("above"===t.outsidePosition||"below"===t.outsidePosition)?this._topBottomDragScrolling.start(t,e):(this._topBottomDragScrolling.stop(),this._dispatchMouse(t,!0,1)))}start(e,t,i){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);let s=this._findMousePosition(t,!0);if(!s||!s.position)return;this._mouseState.trySetCount(t.detail,s.position),t.detail=this._mouseState.count;let o=this._context.configuration.options;if(!o.get(92)&&o.get(35)&&!o.get(22)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===s.type&&s.position&&this._currentSelection.containsPosition(s.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,e=>this._onMouseDownThenMove(e),e=>{let t=this._findMousePosition(this._lastMouseEvent,!1);n.vd(e)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:t?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(s,t.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,i,t.buttons,e=>this._onMouseDownThenMove(e),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){let t=e.editorPos,i=this._context.viewModel,s=this._context.viewLayout,n=this._getMouseColumn(e);if(e.posy<t.y){let i=t.y-e.posy,o=Math.max(s.getCurrentScrollTop()-i,0),r=h.Iq.getZoneAtCoord(this._context,o);if(r){let e=this._helpPositionJumpOverViewZone(r);if(e)return h.ZP.createOutsideEditor(n,e,"above",i)}let a=s.getLineNumberAtVerticalOffset(o);return h.ZP.createOutsideEditor(n,new p.L(a,1),"above",i)}if(e.posy>t.y+t.height){let o=e.posy-t.y-t.height,r=s.getCurrentScrollTop()+e.relativePos.y,a=h.Iq.getZoneAtCoord(this._context,r);if(a){let e=this._helpPositionJumpOverViewZone(a);if(e)return h.ZP.createOutsideEditor(n,e,"below",o)}let l=s.getLineNumberAtVerticalOffset(r);return h.ZP.createOutsideEditor(n,new p.L(l,i.getLineMaxColumn(l)),"below",o)}let o=s.getLineNumberAtVerticalOffset(s.getCurrentScrollTop()+e.relativePos.y);if(e.posx<t.x){let i=t.x-e.posx;return h.ZP.createOutsideEditor(n,new p.L(o,1),"left",i)}if(e.posx>t.x+t.width){let s=e.posx-t.x-t.width;return h.ZP.createOutsideEditor(n,new p.L(o,i.getLineMaxColumn(o)),"right",s)}return null}_findMousePosition(e,t){let i=this._getPositionOutsideEditor(e);if(i)return i;let s=this._createMouseTarget(e,t);if(!s.position)return null;if(8===s.type||5===s.type){let e=this._helpPositionJumpOverViewZone(s.detail);if(e)return h.ZP.createViewZone(s.type,s.element,s.mouseColumn,e,s.detail)}return s}_helpPositionJumpOverViewZone(e){let t=new p.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,s=e.positionAfter;if(i&&s)if(i.isBefore(t))return i;else return s;return null}_dispatchMouse(e,t,i){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:i,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===e.type&&null!==e.detail.injectedText})}constructor(e,t,i,s,n,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._mouseTargetFactory=s,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new c.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new v(this._context,this._viewHelper,this._mouseTargetFactory,(e,t,i)=>this._dispatchMouse(e,t,i))),this._mouseState=new x,this._currentSelection=new g.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}}class v extends a.JT{dispose(){super.dispose(),this.stop()}start(e,t){this._operation?this._operation.setPosition(e,t):this._operation=new w(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,e,t)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}constructor(e,t,i,s){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=s,this._operation=null}}class w extends a.JT{dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(e,t){this._position=e,this._mouseEvent=t}_tick(){let e=Date.now(),t=e-this._lastTime;return this._lastTime=e,t}_getScrollSpeed(){let e=this._context.configuration.options.get(67),t=this._context.configuration.options.get(146).height/e,i=this._position.outsideDistance/e;return i<=1.5?Math.max(30,t*(1+i)):i<=3?Math.max(60,t*(2+i)):Math.max(200,t*(7+i))}_execute(){let e,t=this._context.configuration.options.get(67),i=this._getScrollSpeed(),s=this._tick()/1e3*i*t,o="above"===this._position.outsidePosition?-s:s;this._context.viewModel.viewLayout.deltaScrollNow(0,o),this._viewHelper.renderNow();let r=this._context.viewLayout.getLinesViewportData(),a="above"===this._position.outsidePosition?r.startLineNumber:r.endLineNumber;{let t=(0,c.kG)(this._viewHelper.viewDomNode),i=this._context.configuration.options.get(146).horizontalScrollbarHeight,s=new c.YN(this._mouseEvent.pos.x,t.y+t.height-i-.1),n=(0,c.Pp)(this._viewHelper.viewDomNode,t,s);e=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),t,s,n,null)}e.position&&e.position.lineNumber===a||(e="above"===this._position.outsidePosition?h.ZP.createOutsideEditor(this._position.mouseColumn,new p.L(a,1),"above",this._position.outsideDistance):h.ZP.createOutsideEditor(this._position.mouseColumn,new p.L(a,this._context.viewModel.getLineMaxColumn(a)),"below",this._position.outsideDistance)),this._dispatchMouse(e,!0,2),this._animationFrameDisposable=n.jL(n.Jj(e.element),()=>this._execute())}constructor(e,t,i,s,o,r){super(),this._context=e,this._viewHelper=t,this._mouseTargetFactory=i,this._dispatchMouse=s,this._position=o,this._mouseEvent=r,this._lastTime=Date.now(),this._animationFrameDisposable=n.jL(n.Jj(r.browserEvent),()=>this._execute())}}class x{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){let i=new Date().getTime();i-this._lastSetMouseDownCountTime>x.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}}x.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var y=i(74082);class S extends f{onTap(e){e.initialTarget&&this.viewHelper.linesContentDomNode.contains(e.initialTarget)&&(e.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(e,!1))}onChange(e){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY),"pen"===this._lastPointerType&&this._dispatchGesture(e,!0)}_dispatchGesture(e,t){let i=this._createMouseTarget(new c.gy(e,!1,this.viewHelper.viewDomNode),!1);i.position&&this.viewController.dispatchMouse({position:i.position,mouseColumn:i.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:e.tapCount,inSelectionMode:t,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===i.type&&null!==i.detail.injectedText})}_onMouseDown(e,t){"touch"!==e.browserEvent.pointerType&&super._onMouseDown(e,t)}constructor(e,t,i){super(e,t,i),this._register(o.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(n.nm(this.viewHelper.linesContentDomNode,o.t.Tap,e=>this.onTap(e))),this._register(n.nm(this.viewHelper.linesContentDomNode,o.t.Change,e=>this.onChange(e))),this._register(n.nm(this.viewHelper.linesContentDomNode,o.t.Contextmenu,e=>this._onContextMenu(new c.gy(e,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(n.nm(this.viewHelper.linesContentDomNode,"pointerdown",e=>{let t=e.pointerType;if("mouse"===t){this._lastPointerType="mouse";return}"touch"===t?this._lastPointerType="touch":this._lastPointerType="pen"}));let s=new c.tC(this.viewHelper.viewDomNode);this._register(s.onPointerMove(this.viewHelper.viewDomNode,e=>this._onMouseMove(e))),this._register(s.onPointerUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(s.onPointerLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(s.onPointerDown(this.viewHelper.viewDomNode,(e,t)=>this._onMouseDown(e,t)))}}class b extends f{onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();let t=this._createMouseTarget(new c.gy(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){let e=document.createEvent("CustomEvent");e.initEvent(y.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(e),this.viewController.moveTo(t.position,1)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}constructor(e,t,i){super(e,t,i),this._register(o.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(n.nm(this.viewHelper.linesContentDomNode,o.t.Tap,e=>this.onTap(e))),this._register(n.nm(this.viewHelper.linesContentDomNode,o.t.Change,e=>this.onChange(e))),this._register(n.nm(this.viewHelper.linesContentDomNode,o.t.Contextmenu,e=>this._onContextMenu(new c.gy(e,!1,this.viewHelper.viewDomNode),!1)))}}class T extends a.JT{getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}constructor(e,t,i){super(),(l.gn||l.Dt&&l.tq)&&s.D.pointerEvents?this.handler=this._register(new S(e,t,i)):r.E.TouchEvent?this.handler=this._register(new b(e,t,i)):this.handler=this._register(new f(e,t,i))}}},34298:function(e,t,i){i.d(t,{H:()=>A}),i(34864);var s=i(68474),n=i(80700),o=i(51382),r=i(86910),a=i(68278),l=i(56028),u=i(74082),h=i(15332),c=i(44835),d=i(54630),p=i(82211),g=i(98742),m=i(40300),_=i(15970),f=i(37181),C=i(39005),v=i(72004),w=i(37373),x=i(25432),y=i(47991),S=i(94606),b=i(65296),T=function(e,t){return function(i,s){t(i,s,e)}};class M{prepareRender(e){let t=new _.L(this.modelLineNumber,this.distanceToModelLineStart+1),i=new _.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}constructor(e,t,i,s,n){this._context=e,this.modelLineNumber=t,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=s,this.distanceToModelLineEnd=n,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}}let E=n.vU,A=class extends c.E{writeScreenReaderContent(e){this._textAreaInput.writeNativeTextAreaContent(e)}dispose(){super.dispose()}_getAndroidWordAtPosition(e){let t=this._context.viewModel.getLineContent(e.lineNumber),i=(0,m.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',[]),s=!0,n=e.column,o=!0,r=e.column,a=0;for(;a<50&&(s||o);){if(s&&n<=1&&(s=!1),s){let e=t.charCodeAt(n-2);0!==i.get(e)?s=!1:n--}if(o&&r>t.length&&(o=!1),o){let e=t.charCodeAt(r-1);0!==i.get(e)?o=!1:r++}a++}return[t.substring(n-1,r-1),e.column-n]}_getWordBeforePosition(e){let t=this._context.viewModel.getLineContent(e.lineNumber),i=(0,m.u)(this._context.configuration.options.get(132),[]),s=e.column,n=0;for(;s>1;){let o=t.charCodeAt(s-2);if(0!==i.get(o)||n>50)return t.substring(s-1,e.column-1);n++,s--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){let t=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!a.ZG(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){if(1===e.get(2)){var t,i,n;let e=null==(t=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))?void 0:t.getAriaLabel(),o=null==(i=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))?void 0:i.getAriaLabel(),r=null==(n=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))?void 0:n.getAriaLabel(),a=s.NC("accessibilityModeOff","The editor is not accessible at this time.");return e?s.NC("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",a,e):o?s.NC("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",a,o):r?s.NC("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",a,r):a}return e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);let t=e.get(3);2===this._accessibilitySupport&&t===g.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t;let i=e.get(146).wrappingColumn;if(-1!==i&&1!==this._accessibilitySupport){let t=e.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(i*t.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=+!E}onConfigurationChanged(e){let t=this._context.configuration.options,i=t.get(146);this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(50),this._lineHeight=t.get(67),this._emptySelectionClipboard=t.get(37),this._copyWithSyntaxHighlighting=t.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");let{tabSize:s}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${s*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("aria-required",t.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(t.get(125))),(e.hasChanged(34)||e.hasChanged(92))&&this._ensureReadOnlyAttribute(),e.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}_ensureReadOnlyAttribute(){let e=this._context.configuration.options;!y.F.enabled||e.get(34)&&e.get(92)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(e){var t;this._primaryCursorPosition=new _.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),null==(t=this._visibleTextArea)||t.prepareRender(e)}render(e){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){if(this._visibleTextArea){let e=this._visibleTextArea.visibleTextareaStart,t=this._visibleTextArea.visibleTextareaEnd,i=this._visibleTextArea.startPosition,s=this._visibleTextArea.endPosition;if(i&&s&&e&&t&&t.left>=this._scrollLeft&&e.left<=this._scrollLeft+this._contentWidth){let n=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,o=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart)),r=this._visibleTextArea.widthOfHiddenLineTextBefore,a=this._contentLeft+e.left-this._scrollLeft,l=t.left-e.left+1;if(a<this._contentLeft){let e=this._contentLeft-a;a+=e,r+=e,l-=e}l>this._contentWidth&&(l=this._contentWidth);let u=this._context.viewModel.getViewLineData(i.lineNumber),h=u.tokens.findTokenIndexAtOffset(i.column-1),c=h===u.tokens.findTokenIndexAtOffset(s.column-1),d=this._visibleTextArea.definePresentation(c?u.tokens.getPresentation(h):null);this.textArea.domNode.scrollTop=o*this._lineHeight,this.textArea.domNode.scrollLeft=r,this._doRender({lastRenderPosition:null,top:n,left:a,width:l,height:this._lineHeight,useCover:!1,color:(w.RW.getColorMap()||[])[d.foreground],italic:d.italic,bold:d.bold,underline:d.underline,strikethrough:d.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();let e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();let t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight)return void this._renderAtTopLeft();if(r.dz||2===this._accessibilitySupport){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:this._textAreaWrapping?this._contentLeft:e,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;let i=this._textAreaInput.textAreaState.newlineCountBeforeSelection??this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=i*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:t,left:this._textAreaWrapping?this._contentLeft:e,width:this._textAreaWidth,height:+!E,useCover:!1})}_newlinecount(e){let t=0,i=-1;for(;-1!==(i=e.indexOf("\n",i+1));)t++;return t}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:+!E,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;let t=this.textArea,i=this.textAreaCover;(0,l.N)(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?x.Il.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),i.setTop(e.useCover?e.top:0),i.setLeft(e.useCover?e.left:0),i.setWidth(e.useCover?e.width:0),i.setHeight(e.useCover?e.height:0);let s=this._context.configuration.options;s.get(57)?i.setClassName("monaco-editor-background textAreaCover "+p.Z.OUTER_CLASS_NAME):0!==s.get(68).renderType?i.setClassName("monaco-editor-background textAreaCover "+d.x.CLASS_NAME):i.setClassName("monaco-editor-background textAreaCover")}constructor(e,t,i,a,d){super(e),this._keybindingService=a,this._instantiationService=d,this._primaryCursorPosition=new _.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._visibleRangeProvider=i,this._scrollLeft=0,this._scrollTop=0;let p=this._context.configuration.options,g=p.get(146);this._setAccessibilityOptions(p),this._contentLeft=g.contentLeft,this._contentWidth=g.contentWidth,this._contentHeight=g.height,this._fontInfo=p.get(50),this._lineHeight=p.get(67),this._emptySelectionClipboard=p.get(37),this._copyWithSyntaxHighlighting=p.get(25),this._visibleTextArea=null,this._selections=[new C.Y(1,1,1,1)],this._modelSelections=[new C.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,o.X)(document.createElement("textarea")),c.K.write(this.textArea,7),this.textArea.setClassName(`inputarea ${v.S}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");let{tabSize:m}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${m*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(p)),this.textArea.setAttribute("aria-required",p.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(p.get(125))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",s.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",p.get(92)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,o.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");let w={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:e=>this._context.viewModel.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.viewModel.getValueInRange(e,t),getValueLengthInRange:(e,t)=>this._context.viewModel.getValueLengthInRange(e,t),modifyPosition:(e,t)=>this._context.viewModel.modifyPosition(e,t)},x=this._register(new u.Tj(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(u.Fz,{getDataToCopy:()=>{let e,t=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,r.ED),i=this._context.viewModel.model.getEOL(),s=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),n=Array.isArray(t)?t:null,o=Array.isArray(t)?t.join(i):t,a=null;if(u.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&o.length<65536){let t=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);t&&(e=t.html,a=t.mode)}return{isFromEmptySelection:s,multicursorText:n,text:o,html:e,mode:a}},getScreenReaderContent:()=>{if(1===this._accessibilitySupport){let e=this._selections[0];if(r.dz&&e.isEmpty()){let t=e.getStartPosition(),i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new h.un(i,i.length,i.length,f.e.fromPositions(t),0)}if(r.dz&&!e.isEmpty()&&500>w.getValueLengthInRange(e,0)){let t=w.getValueInRange(e,0);return new h.un(t,0,t.length,e,0)}if(n.G6&&!e.isEmpty()){let e="vscode-placeholder";return new h.un(e,0,e.length,null,void 0)}return h.un.EMPTY}if(n.Dt){let e=this._selections[0];if(e.isEmpty()){let t=e.getStartPosition(),[i,s]=this._getAndroidWordAtPosition(t);if(i.length>0)return new h.un(i,s,s,f.e.fromPositions(t),0)}return h.un.EMPTY}return h.ee.fromEditorSelection(w,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(e,t,i)},x,r.OS,{isAndroid:n.Dt,isChrome:n.i7,isFirefox:n.vU,isSafari:n.G6})),this._register(this._textAreaInput.onKeyDown(e=>{this._viewController.emitKeyDown(e)})),this._register(this._textAreaInput.onKeyUp(e=>{this._viewController.emitKeyUp(e)})),this._register(this._textAreaInput.onPaste(e=>{let t=!1,i=null,s=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,s=e.metadata.mode),this._viewController.paste(e.text,t,i,s)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(e=>{e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?(h.al&&console.log(` => compositionType: <<${e.text}>>, ${e.replacePrevCharCnt}, ${e.replaceNextCharCnt}, ${e.positionDelta}`),this._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta)):(h.al&&console.log(` => type: <<${e.text}>>`),this._viewController.type(e.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(e=>{this._viewController.setSelection(e)})),this._register(this._textAreaInput.onCompositionStart(e=>{let t=this.textArea.domNode,i=this._modelSelections[0],{distanceToModelLineStart:s,widthOfHiddenTextBefore:n}=(()=>{let e=t.value.substring(0,Math.min(t.selectionStart,t.selectionEnd)),s=e.lastIndexOf("\n"),n=e.substring(s+1),o=n.lastIndexOf("	"),r=n.length-o-1,a=i.getStartPosition(),u=Math.min(a.column-1,r),h=a.column-1-u,c=n.substring(0,n.length-u),{tabSize:d}=this._context.viewModel.model.getOptions();return{distanceToModelLineStart:h,widthOfHiddenTextBefore:function(e,t,i,s){if(0===t.length)return 0;let n=e.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";let o=e.createElement("span");(0,l.N)(o,i),o.style.whiteSpace="pre",o.style.tabSize=`${s*i.spaceWidth}px`,o.append(t),n.appendChild(o),e.body.appendChild(n);let r=o.offsetWidth;return n.remove(),r}(this.textArea.domNode.ownerDocument,c,this._fontInfo,d)}})(),{distanceToModelLineEnd:o}=(()=>{let e=t.value.substring(Math.max(t.selectionStart,t.selectionEnd)),s=e.indexOf("\n"),n=-1===s?e:e.substring(0,s),o=n.indexOf("	"),r=-1===o?n.length:n.length-o-1,a=i.getEndPosition(),l=Math.min(this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column,r);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(a.lineNumber)-a.column-l}})();this._context.viewModel.revealRange("keyboard",!0,f.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new M(this._context,i.startLineNumber,s,n,o),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${v.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(e=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${v.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(y.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}};A=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([T(3,S.d),T(4,b.TG)],A)},74082:function(e,t,i){i.d(t,{Fz:()=>y,Nl:()=>w,RA:()=>v,Tj:()=>b,b6:()=>S,pd:()=>s});var s,n=i(80700),o=i(45012),r=i(76401),a=i(24330),l=i(71291),u=i(58228),h=i(81549),c=i(55923),d=i(28386),p=i(68278),g=i(15332),m=i(39005),_=i(68178),f=i(28622),C=function(e,t){return function(i,s){t(i,s,e)}};(s||(s={})).Tap="-monaco-textarea-synthetic-tap";let v={forceCopyWithSyntaxHighlighting:!1};class w{set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}constructor(){this._lastState=null}}w.INSTANCE=new w;class x{handleCompositionUpdate(e){let t={text:e=e||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}constructor(){this._lastTypeTextLength=0}}let y=class extends c.JT{get textAreaState(){return this._textAreaState}_installSelectionChangeListener(){let e=0;return o.nm(this._textArea.ownerDocument,"selectionchange",t=>{if(l.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;let i=Date.now(),s=i-e;if(e=i,s<5)return;let n=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),n<100||!this._textAreaState.selection)return;let o=this._textArea.getValue();if(this._textAreaState.value!==o)return;let r=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===r&&this._textAreaState.selectionEnd===a)return;let u=this._textAreaState.deduceEditorPosition(r),h=this._host.deduceModelPosition(u[0],u[1],u[2]),c=this._textAreaState.deduceEditorPosition(a),d=this._host.deduceModelPosition(c[0],c[1],c[2]),p=new m.Y(h.lineNumber,h.column,d.lineNumber,d.column);this._onSelectionChangeRequest.fire(p)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeNativeTextAreaContent(e){(this._accessibilityService.isScreenReaderOptimized()||"render"!==e)&&!this._currentComposition&&(this._logService.trace(`writeTextAreaState(reason: ${e})`),this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(e){let t=this._host.getDataToCopy(),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};w.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,"\n"):t.text,i),e.preventDefault(),e.clipboardData&&S.setTextData(e.clipboardData,t.text,t.html,i)}constructor(e,t,i,s,n,o){super(),this._host=e,this._textArea=t,this._OS=i,this._browser=s,this._accessibilityService=n,this._logService=o,this._onFocus=this._register(new h.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new h.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new h.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new h.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new h.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new h.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new h.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new h.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new h.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new h.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new h.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new c.XK),this._asyncTriggerCut=this._register(new u.pY(()=>this._onCut.fire(),0)),this._textAreaState=g.un.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(h.ju.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new u.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let r=null;this._register(this._textArea.onKeyDown(e=>{let t=new a.y(e);(114===t.keyCode||this._currentComposition&&1===t.keyCode)&&t.stopPropagation(),t.equals(9)&&t.preventDefault(),r=t,this._onKeyDown.fire(t)})),this._register(this._textArea.onKeyUp(e=>{let t=new a.y(e);this._onKeyUp.fire(t)})),this._register(this._textArea.onCompositionStart(e=>{g.al&&console.log("[compositionstart]",e);let t=new x;if(this._currentComposition){this._currentComposition=t;return}if(this._currentComposition=t,2===this._OS&&r&&r.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"===r.code||"ArrowLeft"===r.code)){g.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",e),t.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:e.data});return}if(this._browser.isAndroid)return void this._onCompositionStart.fire({data:e.data});this._onCompositionStart.fire({data:e.data})})),this._register(this._textArea.onCompositionUpdate(e=>{g.al&&console.log("[compositionupdate]",e);let t=this._currentComposition;if(!t)return;if(this._browser.isAndroid){let t=g.un.readFromTextArea(this._textArea,this._textAreaState),i=g.un.deduceAndroidCompositionInput(this._textAreaState,t);this._textAreaState=t,this._onType.fire(i),this._onCompositionUpdate.fire(e);return}let i=t.handleCompositionUpdate(e.data);this._textAreaState=g.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(i),this._onCompositionUpdate.fire(e)})),this._register(this._textArea.onCompositionEnd(e=>{g.al&&console.log("[compositionend]",e);let t=this._currentComposition;if(!t)return;if(this._currentComposition=null,this._browser.isAndroid){let e=g.un.readFromTextArea(this._textArea,this._textAreaState),t=g.un.deduceAndroidCompositionInput(this._textAreaState,e);this._textAreaState=e,this._onType.fire(t),this._onCompositionEnd.fire();return}let i=t.handleCompositionUpdate(e.data);this._textAreaState=g.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(i),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(e=>{if(g.al&&console.log("[input]",e),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;let t=g.un.readFromTextArea(this._textArea,this._textAreaState),i=g.un.deduceInput(this._textAreaState,t,2===this._OS);0===i.replacePrevCharCnt&&1===i.text.length&&(p.ZG(i.text.charCodeAt(0))||127===i.text.charCodeAt(0))||(this._textAreaState=t,(""!==i.text||0!==i.replacePrevCharCnt||0!==i.replaceNextCharCnt||0!==i.positionDelta)&&this._onType.fire(i))})),this._register(this._textArea.onCut(e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(e=>{this._ensureClipboardGetsEditorSelection(e)})),this._register(this._textArea.onPaste(e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),e.preventDefault(),!e.clipboardData)return;let[t,i]=S.getTextData(e.clipboardData);t&&(i=i||w.INSTANCE.get(t),this._onPaste.fire({text:t,metadata:i}))})),this._register(this._textArea.onFocus(()=>{let e=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!e&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new u.pY(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}};y=function(e,t,i,s){var n,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(o<3?n(r):o>3?n(t,i,r):n(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}([C(4,_.F),C(5,f.VZ)],y);let S={getTextData(e){let t=e.getData(d.v.text),i=null,s=e.getData("vscode-editor-data");if("string"==typeof s)try{i=JSON.parse(s),1!==i.version&&(i=null)}catch(e){}return 0===t.length&&null===i&&e.files.length>0?[Array.prototype.slice.call(e.files,0).map(e=>e.name).join("\n"),null]:[t,i]},setTextData(e,t,i,s){e.setData(d.v.text,t),"string"==typeof i&&e.setData("text/html",i),e.setData("vscode-editor-data",JSON.stringify(s))}};class b extends c.JT{get ownerDocument(){return this._actual.ownerDocument}hasFocus(){let e=o.Ay(this._actual);return e?e.activeElement===this._actual:!!this._actual.isConnected&&o.vY()===this._actual}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(e,t){let i=this._actual;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(e,t,i){let s=this._actual,r=null,a=o.Ay(s);r=a?a.activeElement:o.vY();let l=o.Jj(r),u=r===s,h=s.selectionStart,c=s.selectionEnd;if(u&&h===t&&c===i){n.vU&&l.parent!==l&&s.focus();return}if(u){this.setIgnoreSelectionChangeTime("setSelectionRange"),s.setSelectionRange(t,i),n.vU&&l.parent!==l&&s.focus();return}try{let e=o.vL(s);this.setIgnoreSelectionChangeTime("setSelectionRange"),s.focus(),s.setSelectionRange(t,i),o._0(s,e)}catch(e){}}constructor(e){super(),this._actual=e,this.onKeyDown=this._register(new r.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new r.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new r.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new r.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new r.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new r.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new r.Y(this._actual,"input")).event,this.onCut=this._register(new r.Y(this._actual,"cut")).event,this.onCopy=this._register(new r.Y(this._actual,"copy")).event,this.onPaste=this._register(new r.Y(this._actual,"paste")).event,this.onFocus=this._register(new r.Y(this._actual,"focus")).event,this.onBlur=this._register(new r.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new h.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>l.B.onKeyDown())),this._register(this.onBeforeInput(()=>l.B.onBeforeInput())),this._register(this.onInput(()=>l.B.onInput())),this._register(this.onKeyUp(()=>l.B.onKeyUp())),this._register(o.nm(this._actual,s.Tap,()=>this._onSyntheticTap.fire()))}}},15332:function(e,t,i){i.d(t,{al:()=>o,ee:()=>a,un:()=>r});var s=i(68278),n=i(37181);let o=!1;class r{toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,t){let i,s=e.getValue(),n=e.getSelectionStart(),o=e.getSelectionEnd();return t&&s.substring(0,n)===t.value.substring(0,t.selectionStart)&&(i=t.newlineCountBeforeSelection),new r(s,n,o,null,i)}collapseSelection(){return this.selectionStart===this.value.length?this:new r(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,t,i){o&&console.log(`writeToTextArea ${e}: ${this.toString()}`),t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){var t,i,s,n;if(e<=this.selectionStart){let t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition((null==(i=this.selection)?void 0:i.getStartPosition())??null,t,-1)}if(e>=this.selectionEnd){let t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition((null==(s=this.selection)?void 0:s.getEndPosition())??null,t,1)}let o=this.value.substring(this.selectionStart,e);if(-1===o.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition((null==(n=this.selection)?void 0:n.getStartPosition())??null,o,1);let r=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition((null==(t=this.selection)?void 0:t.getEndPosition())??null,r,-1)}_finishDeduceEditorPosition(e,t,i){let s=0,n=-1;for(;-1!==(n=t.indexOf("\n",n+1));)s++;return[e,i*t.length,s]}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};o&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${e.toString()}`),console.log(`CURRENT STATE: ${t.toString()}`));let n=Math.min(s.Mh(e.value,t.value),e.selectionStart,t.selectionStart),r=Math.min(s.P1(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd),a=e.value.substring(n,e.value.length-r),l=t.value.substring(n,t.value.length-r),u=e.selectionStart-n,h=e.selectionEnd-n,c=t.selectionStart-n,d=t.selectionEnd-n;if(o&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${u}, selectionEnd: ${h}`),console.log(`AFTER DIFFING CURRENT STATE: <${l}>, selectionStart: ${c}, selectionEnd: ${d}`)),c===d){let t=e.selectionStart-n;return o&&console.log(`REMOVE PREVIOUS: ${t} chars`),{text:l,replacePrevCharCnt:t,replaceNextCharCnt:0,positionDelta:0}}return{text:l,replacePrevCharCnt:h-u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(o&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${e.toString()}`),console.log(`CURRENT STATE: ${t.toString()}`)),e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};let i=Math.min(s.Mh(e.value,t.value),e.selectionEnd),n=Math.min(s.P1(e.value,t.value),e.value.length-e.selectionEnd),r=e.value.substring(i,e.value.length-n),a=t.value.substring(i,t.value.length-n),l=e.selectionStart-i,u=e.selectionEnd-i,h=t.selectionStart-i,c=t.selectionEnd-i;return o&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${r}>, selectionStart: ${l}, selectionEnd: ${u}`),console.log(`AFTER DIFFING CURRENT STATE: <${a}>, selectionStart: ${h}, selectionEnd: ${c}`)),{text:a,replacePrevCharCnt:u,replaceNextCharCnt:r.length-u,positionDelta:c-a.length}}constructor(e,t,i,s,n){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selection=s,this.newlineCountBeforeSelection=n}}r.EMPTY=new r("",0,0,null,void 0);class a{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){let i=e*t;return new n.e(i+1,1,i+t+1,1)}static fromEditorSelection(e,t,i,s){let o,l=a._getPageOfLine(t.startLineNumber,i),u=a._getRangeForPage(l,i),h=a._getPageOfLine(t.endLineNumber,i),c=a._getRangeForPage(h,i),d=u.intersectRanges(new n.e(1,1,t.startLineNumber,t.startColumn));if(s&&e.getValueLengthInRange(d,1)>500){let t=e.modifyPosition(d.getEndPosition(),-500);d=n.e.fromPositions(t,d.getEndPosition())}let p=e.getValueInRange(d,1),g=e.getLineCount(),m=e.getLineMaxColumn(g),_=c.intersectRanges(new n.e(t.endLineNumber,t.endColumn,g,m));if(s&&e.getValueLengthInRange(_,1)>500){let t=e.modifyPosition(_.getStartPosition(),500);_=n.e.fromPositions(_.getStartPosition(),t)}let f=e.getValueInRange(_,1);if(l===h||l+1===h)o=e.getValueInRange(t,1);else{let i=u.intersectRanges(t),s=c.intersectRanges(t);o=e.getValueInRange(i,1)+String.fromCharCode(8230)+e.getValueInRange(s,1)}return s&&o.length>1e3&&(o=o.substring(0,500)+String.fromCharCode(8230)+o.substring(o.length-500,o.length)),new r(p+o+f,p.length,p.length+o.length,t,d.endLineNumber-d.startLineNumber)}}},22736:function(e,t,i){i.d(t,{Ox:()=>a,wk:()=>l});var s,n,o,r,a,l,u=i(68474),h=i(80700),c=i(67450),d=i(68275),p=i(18247),g=i(77635),m=i(44674),_=i(5970),f=i(17187),C=i(37368),v=i(35799),w=i(15970),x=i(37181),y=i(98041),S=i(25630),b=i(35777),T=i(45012),M=i(62016);class E extends p._l{runEditorCommand(e,t,i){let s=t._getViewModel();s&&this.runCoreEditorCommand(s,i||{})}}(s=o||(o={})).metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory direction value.
						\`\`\`
						'up', 'down'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'page', 'halfPage', 'editor'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.
				`,constraint:function(e){return!!c.Kn(e)&&!!c.HD(e.to)&&(!!c.o8(e.by)||!!c.HD(e.by))&&(!!c.o8(e.value)||!!c.hj(e.value))&&(!!c.o8(e.revealCursor)||!!c.jn(e.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},s.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},s.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"},s.parse=function(e){let t,i;switch(e.to){case s.RawDirection.Up:t=1;break;case s.RawDirection.Right:t=2;break;case s.RawDirection.Down:t=3;break;case s.RawDirection.Left:t=4;break;default:return null}switch(e.by){case s.RawUnit.Line:i=1;break;case s.RawUnit.WrappedLine:i=2;break;case s.RawUnit.Page:i=3;break;case s.RawUnit.HalfPage:i=4;break;case s.RawUnit.Editor:i=5;break;case s.RawUnit.Column:i=6;break;default:i=2}return{direction:t,unit:i,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(n=r||(r={})).metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:`Property-value pairs that can be passed through this argument:
					* 'lineNumber': A mandatory line number value.
					* 'at': Logical position at which line has to be revealed.
						\`\`\`
						'top', 'center', 'bottom'
						\`\`\`
				`,constraint:function(e){return!!c.Kn(e)&&(!!c.hj(e.lineNumber)||!!c.HD(e.lineNumber))&&(!!c.o8(e.at)||!!c.HD(e.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class A{_runEditorCommand(e,t,i){let s=this.runEditorCommand(e,t,i);return!s||s}constructor(e){e.addImplementation(1e4,"code-editor",(e,t)=>{let i=e.get(g.$).getFocusedCodeEditor();return!!(i&&i.hasTextFocus())&&this._runEditorCommand(e,i,t)}),e.addImplementation(1e3,"generic-dom-input-textarea",(e,t)=>{let i=(0,T.vY)();return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(i),!0)}),e.addImplementation(0,"generic-dom",(e,t)=>{let i=e.get(g.$).getActiveCodeEditor();return!!i&&(i.focus(),this._runEditorCommand(e,i,t))})}}!function(e){class t extends E{runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[C.P.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)])&&2!==t.revealType&&e.revealAllCursors(t.source,!0,!0))}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.MoveTo=(0,p.fK)(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=(0,p.fK)(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends E{runCoreEditorCommand(e,t){e.model.pushStackElement();let i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);null!==i&&(e.setCursorStates(t.source,3,i.viewStates.map(e=>_.Vi.fromViewState(e))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source))}}e.ColumnSelect=(0,p.fK)(new class extends i{_getColumnSelectResult(e,t,i,s){if(void 0===s.position||void 0===s.viewPosition||void 0===s.mouseColumn)return null;let n=e.model.validatePosition(s.position),o=e.coordinatesConverter.validateViewPosition(new w.L(s.viewPosition.lineNumber,s.viewPosition.column),n),r=s.doColumnSelect?i.fromViewLineNumber:o.lineNumber,a=s.doColumnSelect?i.fromViewVisualColumn:s.mouseColumn-1;return m.U.columnSelect(e.cursorConfig,e,r,a,o.lineNumber,s.mouseColumn-1)}constructor(){super({id:"columnSelect",precondition:void 0})}}),e.CursorColumnSelectLeft=(0,p.fK)(new class extends i{_getColumnSelectResult(e,t,i,s){return m.U.columnSelectLeft(e.cursorConfig,e,i)}constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:3599,linux:{primary:0}}})}}),e.CursorColumnSelectRight=(0,p.fK)(new class extends i{_getColumnSelectResult(e,t,i,s){return m.U.columnSelectRight(e.cursorConfig,e,i)}constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:3601,linux:{primary:0}}})}});class s extends i{_getColumnSelectResult(e,t,i,s){return m.U.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}constructor(e){super(e),this._isPaged=e.isPaged}}e.CursorColumnSelectUp=(0,p.fK)(new s({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=(0,p.fK)(new s({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:3595,linux:{primary:0}}}));class n extends i{_getColumnSelectResult(e,t,i,s){return m.U.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}constructor(e){super(e),this._isPaged=e.isPaged}}e.CursorColumnSelectDown=(0,p.fK)(new n({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=(0,p.fK)(new n({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:3596,linux:{primary:0}}}));class a extends E{runCoreEditorCommand(e,t){let i=C.N.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,a._move(e,e.getCursorStates(),i)),e.revealAllCursors(t,!0)}static _move(e,t,i){let s=i.select,n=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return C.P.simpleMove(e,t,i.direction,s,n,i.unit);case 11:case 13:case 12:case 14:return C.P.viewportMove(e,t,i.direction,s,n);default:return null}}constructor(){super({id:"cursorMove",precondition:void 0,metadata:C.N.metadata})}}e.CursorMoveImpl=a,e.CursorMove=(0,p.fK)(new a);class l extends E{runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.pageSize||e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealAllCursors(t.source,!0)}constructor(e){super(e),this._staticArgs=e.args}}e.CursorLeft=(0,p.fK)(new l({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=(0,p.fK)(new l({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:1039}})),e.CursorRight=(0,p.fK)(new l({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=(0,p.fK)(new l({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:1041}})),e.CursorUp=(0,p.fK)(new l({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=(0,p.fK)(new l({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=(0,p.fK)(new l({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:11}})),e.CursorPageUpSelect=(0,p.fK)(new l({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:1035}})),e.CursorDown=(0,p.fK)(new l({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=(0,p.fK)(new l({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=(0,p.fK)(new l({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:12}})),e.CursorPageDownSelect=(0,p.fK)(new l({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:1036}})),e.CreateCursor=(0,p.fK)(new class extends E{runCoreEditorCommand(e,t){let i;if(!t.position)return;i=t.wholeLine?C.P.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):C.P.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);let s=e.getCursorStates();if(s.length>1){let n=i.modelState?i.modelState.position:null,o=i.viewState?i.viewState.position:null;for(let i=0,r=s.length;i<r;i++){let r=s[i];if((!n||r.modelState.selection.containsPosition(n))&&(!o||r.viewState.selection.containsPosition(o))){s.splice(i,1),e.model.pushStackElement(),e.setCursorStates(t.source,3,s);return}}}s.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,s)}constructor(){super({id:"createCursor",precondition:void 0})}}),e.LastCursorMoveToSelect=(0,p.fK)(new class extends E{runCoreEditorCommand(e,t){if(!t.position)return;let i=e.getLastAddedCursorIndex(),s=e.getCursorStates(),n=s.slice(0);n[i]=C.P.moveTo(e,s[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}});class c extends E{runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealAllCursors(t.source,!0)}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.CursorHome=(0,p.fK)(new c({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=(0,p.fK)(new c({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class g extends E{runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealAllCursors(t.source,!0)}_exec(e){let t=[];for(let i=0,s=e.length;i<s;i++){let s=e[i],n=s.modelState.position.lineNumber;t[i]=_.Vi.fromModelState(s.modelState.move(this._inSelectionMode,n,1,0))}return t}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.CursorLineStart=(0,p.fK)(new g({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=(0,p.fK)(new g({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:0,mac:{primary:1311}}}));class f extends E{runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealAllCursors(t.source,!0)}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.CursorEnd=(0,p.fK)(new f({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:y.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:u.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=(0,p.fK)(new f({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:y.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:u.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class v extends E{runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealAllCursors(t.source,!0)}_exec(e,t){let i=[];for(let s=0,n=t.length;s<n;s++){let n=t[s],o=n.modelState.position.lineNumber,r=e.model.getLineMaxColumn(o);i[s]=_.Vi.fromModelState(n.modelState.move(this._inSelectionMode,o,r,0))}return i}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.CursorLineEnd=(0,p.fK)(new v({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=(0,p.fK)(new v({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:0,mac:{primary:1315}}}));class S extends E{runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealAllCursors(t.source,!0)}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.CursorTop=(0,p.fK)(new S({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=(0,p.fK)(new S({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class b extends E{runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealAllCursors(t.source,!0)}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.CursorBottom=(0,p.fK)(new b({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=(0,p.fK)(new b({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class T extends E{determineScrollMethod(e){return[6].includes(e.unit)&&[4,2].includes(e.direction)?this._runHorizontalEditorScroll.bind(this):[1,2,3,4,5,6].includes(e.unit)&&[1,3].includes(e.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(e,t){let i=o.parse(t);if(!i)return;let s=this.determineScrollMethod(i);s&&s(e,t.source,i)}_runVerticalEditorScroll(e,t,i){let s=this._computeDesiredScrollTop(e,i);if(i.revealCursor){let n=e.getCompletelyVisibleViewRangeAtScrollTop(s);e.setCursorStates(t,3,[C.P.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),n,i.select)])}e.viewLayout.setScrollPosition({scrollTop:s},0)}_computeDesiredScrollTop(e,t){let i;if(1===t.unit){let i,s=e.viewLayout.getFutureViewport(),n=e.getCompletelyVisibleViewRangeAtScrollTop(s.top),o=e.coordinatesConverter.convertViewRangeToModelRange(n);i=1===t.direction?Math.max(1,o.startLineNumber-t.value):Math.min(e.model.getLineCount(),o.startLineNumber+t.value);let r=e.coordinatesConverter.convertModelPositionToViewPosition(new w.L(i,1));return e.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber)}if(5===t.unit){let i=0;return 3===t.direction&&(i=e.model.getLineCount()-e.cursorConfig.pageSize),e.viewLayout.getVerticalOffsetForLineNumber(i)}i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;let s=(1===t.direction?-1:1)*i;return e.viewLayout.getCurrentScrollTop()+s*e.cursorConfig.lineHeight}_runHorizontalEditorScroll(e,t,i){let s=this._computeDesiredScrollLeft(e,i);e.viewLayout.setScrollPosition({scrollLeft:s},0)}_computeDesiredScrollLeft(e,t){let i=(4===t.direction?-1:1)*t.value;return e.viewLayout.getCurrentScrollLeft()+i*e.cursorConfig.typicalHalfwidthCharacterWidth}constructor(){super({id:"editorScroll",precondition:void 0,metadata:o.metadata})}}e.EditorScrollImpl=T,e.EditorScroll=(0,p.fK)(new T),e.ScrollLineUp=(0,p.fK)(new class extends E{runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:o.RawDirection.Up,by:o.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:i.source})}constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:2064,mac:{primary:267}}})}}),e.ScrollPageUp=(0,p.fK)(new class extends E{runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:o.RawDirection.Up,by:o.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:i.source})}constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}}),e.ScrollEditorTop=(0,p.fK)(new class extends E{runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:o.RawDirection.Up,by:o.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:i.source})}constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus}})}}),e.ScrollLineDown=(0,p.fK)(new class extends E{runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:o.RawDirection.Down,by:o.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:i.source})}constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:2066,mac:{primary:268}}})}}),e.ScrollPageDown=(0,p.fK)(new class extends E{runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:o.RawDirection.Down,by:o.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:i.source})}constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}}),e.ScrollEditorBottom=(0,p.fK)(new class extends E{runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:o.RawDirection.Down,by:o.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:i.source})}constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus}})}}),e.ScrollLeft=(0,p.fK)(new class extends E{runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:o.RawDirection.Left,by:o.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:i.source})}constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus}})}}),e.ScrollRight=(0,p.fK)(new class extends E{runCoreEditorCommand(t,i){e.EditorScroll.runCoreEditorCommand(t,{to:o.RawDirection.Right,by:o.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:i.source})}constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus}})}});class M extends E{runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[C.P.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),2!==t.revealType&&e.revealAllCursors(t.source,!0,!0))}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.WordSelect=(0,p.fK)(new M({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=(0,p.fK)(new M({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=(0,p.fK)(new class extends E{runCoreEditorCommand(e,t){if(!t.position)return;let i=e.getLastAddedCursorIndex(),s=e.getCursorStates(),n=s.slice(0),o=s[i];n[i]=C.P.word(e,o,o.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}});class L extends E{runCoreEditorCommand(e,t){t.position&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[C.P.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),2!==t.revealType&&e.revealAllCursors(t.source,!1,!0))}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.LineSelect=(0,p.fK)(new L({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=(0,p.fK)(new L({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class P extends E{runCoreEditorCommand(e,t){if(!t.position)return;let i=e.getLastAddedCursorIndex(),s=e.getCursorStates(),n=s.slice(0);n[i]=C.P.line(e,s[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}}e.LastCursorLineSelect=(0,p.fK)(new P({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=(0,p.fK)(new P({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.CancelSelection=(0,p.fK)(new class extends E{runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[C.P.cancelSelection(e,e.getPrimaryCursorState())]),e.revealAllCursors(t.source,!0)}constructor(){super({id:"cancelSelection",precondition:y.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:9,secondary:[1033]}})}}),e.RemoveSecondaryCursors=(0,p.fK)(new class extends E{runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealAllCursors(t.source,!0),(0,d.i7)(u.NC("removedCursor","Removed secondary cursors"))}constructor(){super({id:"removeSecondaryCursors",precondition:y.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:y.u.textInputFocus,primary:9,secondary:[1033]}})}}),e.RevealLine=(0,p.fK)(new class extends E{runCoreEditorCommand(e,t){let i=t.lineNumber||0,s="number"==typeof i?i+1:parseInt(i)+1;s<1&&(s=1);let n=e.model.getLineCount();s>n&&(s=n);let o=new x.e(s,1,s,e.model.getLineMaxColumn(s)),a=0;if(t.at)switch(t.at){case r.RawAtArgument.Top:a=3;break;case r.RawAtArgument.Center:a=1;break;case r.RawAtArgument.Bottom:a=4}let l=e.coordinatesConverter.convertModelRangeToViewRange(o);e.revealRange(t.source,!1,l,a,0)}constructor(){super({id:"revealLine",precondition:void 0,metadata:r.metadata})}}),e.SelectAll=new class extends A{runDOMCommand(e){h.vU&&(e.focus(),e.select()),e.ownerDocument.execCommand("selectAll")}runEditorCommand(e,t,i){let s=t._getViewModel();s&&this.runCoreEditorCommand(s,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[C.P.selectAll(e,e.getPrimaryCursorState())])}constructor(){super(p.Sq)}},e.SetSelection=(0,p.fK)(new class extends E{runCoreEditorCommand(e,t){t.selection&&(e.model.pushStackElement(),e.setCursorStates(t.source,3,[_.Vi.fromModelSelection(t.selection)]))}constructor(){super({id:"setSelection",precondition:void 0})}})}(a||(a={}));let L=S.Ao.and(y.u.textInputFocus,y.u.columnSelection);function P(e,t){b.W.registerKeybindingRule({id:e,primary:t,when:L,weight:1})}function D(e){return e.register(),e}P(a.CursorColumnSelectLeft.id,1039),P(a.CursorColumnSelectRight.id,1041),P(a.CursorColumnSelectUp.id,1040),P(a.CursorColumnSelectPageUp.id,1035),P(a.CursorColumnSelectDown.id,1042),P(a.CursorColumnSelectPageDown.id,1036);var O=l||(l={});class N extends p._l{runEditorCommand(e,t,i){let s=t._getViewModel();s&&this.runCoreEditingCommand(t,s,i||{})}}O.CoreEditingCommand=N,O.LineBreakInsert=(0,p.fK)(new class extends N{runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,M.ye.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection)))}constructor(){super({id:"lineBreakInsert",precondition:y.u.writable,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:0,mac:{primary:301}}})}}),O.Outdent=(0,p.fK)(new class extends N{runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,v.u.outdent(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection))),e.pushUndoStop()}constructor(){super({id:"outdent",precondition:y.u.writable,kbOpts:{weight:0,kbExpr:S.Ao.and(y.u.editorTextFocus,y.u.tabDoesNotMoveFocus),primary:1026}})}}),O.Tab=(0,p.fK)(new class extends N{runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,v.u.tab(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection))),e.pushUndoStop()}constructor(){super({id:"tab",precondition:y.u.writable,kbOpts:{weight:0,kbExpr:S.Ao.and(y.u.editorTextFocus,y.u.tabDoesNotMoveFocus),primary:2}})}}),O.DeleteLeft=(0,p.fK)(new class extends N{runCoreEditingCommand(e,t,i){let[s,n]=f.A.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection),t.getCursorAutoClosedCharacters());s&&e.pushUndoStop(),e.executeCommands(this.id,n),t.setPrevEditOperationType(2)}constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}}),O.DeleteRight=(0,p.fK)(new class extends N{runCoreEditingCommand(e,t,i){let[s,n]=f.A.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection));s&&e.pushUndoStop(),e.executeCommands(this.id,n),t.setPrevEditOperationType(3)}constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:y.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}}),O.Undo=new class extends A{runDOMCommand(e){e.ownerDocument.execCommand("undo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(92))return t.getModel().undo()}constructor(){super(p.n_)}},O.Redo=new class extends A{runDOMCommand(e){e.ownerDocument.execCommand("redo")}runEditorCommand(e,t,i){if(t.hasModel()&&!0!==t.getOption(92))return t.getModel().redo()}constructor(){super(p.kz)}};class k extends p.mY{runCommand(e,t){let i=e.get(g.$).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}constructor(e,t,i){super({id:e,precondition:void 0,metadata:i}),this._handlerId=t}}function R(e,t){D(new k("default:"+e,e)),D(new k(e,e,t))}R("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),R("replacePreviousChar"),R("compositionType"),R("compositionStart"),R("compositionEnd"),R("paste"),R("cut")}}]);