"use strict";(self.webpackChunkacescript=self.webpackChunkacescript||[]).push([["8561"],{65998:function(e,t,r){function s(e,t,r){return Math.min(Math.max(e,t),r)}r.d(t,{N:()=>n,nM:()=>i,uZ:()=>s});class i{update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}constructor(){this._n=1,this._val=0}}class n{update(e){let t=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=t,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}constructor(e){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=Array(e),this._values.fill(0,0,e)}}},21654:function(e,t,r){r.r(t),r.d(t,{ILanguageFeatureDebounceService:()=>y,LanguageFeatureDebounceService:()=>k});var s,i=r(4298),n=r(47054),a=r(65998),h=r(27414),u=r(79143),l=r(65296),o=r(28622),c=r(80418),p=function(e,t){return function(r,s){t(r,s,e)}};let y=(0,l.yh)("ILanguageFeatureDebounceService");var g=s||(s={});let f=new WeakMap,_=0;g.of=function(e){let t=f.get(e);return void 0===t&&(t=++_,f.set(e,t)),t};class d{get(e){return this._default}update(e,t){return this._default}default(){return this._default}constructor(e){this._default=e}}class v{_key(e){return e.id+this._registry.all(e).reduce((e,t)=>(0,i.SP)(s.of(t),e),0)}get(e){let t=this._key(e),r=this._cache.get(t);return r?(0,a.uZ)(r.value,this._min,this._max):this.default()}update(e,t){let r=this._key(e),s=this._cache.get(r);s||(s=new a.N(6),this._cache.set(r,s));let i=(0,a.uZ)(s.update(t),this._min,this._max);return(0,c.xn)(e.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${e.uri.toString()} is ${i}ms`),i}_overall(){let e=new a.nM;for(let[,t]of this._cache)e.update(t.value);return e.value}default(){let e=0|this._overall()||this._default;return(0,a.uZ)(e,this._min,this._max)}constructor(e,t,r,s,i,a){this._logService=e,this._name=t,this._registry=r,this._default=s,this._min=i,this._max=a,this._cache=new n.z6(50,.7)}}let k=class{for(e,t,r){let i=(null==r?void 0:r.min)??50,n=(null==r?void 0:r.max)??i**2,a=(null==r?void 0:r.key)??void 0,h=`${s.of(e)},${i}${a?","+a:""}`,u=this._data.get(h);return u||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${t}] is disabled in developed mode`),u=new d(1.5*i)):u=new v(this._logService,t,e,0|this._overallAverage()||1.5*i,i,n),this._data.set(h,u)),u}_overallAverage(){let e=new a.nM;for(let t of this._data.values())e.update(t.default());return e.value}constructor(e,t){this._logService=e,this._data=new Map,this._isDev=t.isExtensionDevelopment||!t.isBuilt}};k=function(e,t,r,s){var i,n=arguments.length,a=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var h=e.length-1;h>=0;h--)(i=e[h])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}([p(0,o.VZ),p(1,h.Y)],k),(0,u.z)(y,k,1)},25630:function(e,t,r){r.d(t,{i6:()=>W,uy:()=>P,Ao:()=>C,cP:()=>S,Fb:()=>A,K8:()=>function e(t,r){if(0===t.type||1===r.type)return!0;if(9===t.type)return 9===r.type&&X(t.expr,r.expr);if(9===r.type){for(let s of r.expr)if(e(t,s))return!0;return!1}if(6===t.type){if(6===r.type)return X(r.expr,t.expr);for(let s of t.expr)if(e(s,r))return!0;return!1}return t.equals(r)}});var s=r(86910),i=r(68278),n=r(87933),a=r(68474);function h(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];switch(t.length){case 1:return(0,a.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",t[0]);case 2:return(0,a.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",t[0],t[1]);case 3:return(0,a.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",t[0],t[1],t[2]);default:return}}let u=(0,a.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),l=(0,a.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class o{static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw(0,n.L6)(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){let e=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:e})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){let e=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:e})}else this._match(126)?this._addToken(9):this._error(h("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(h("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(h("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return!this._isAtEnd()&&this._input.charCodeAt(this._current)===e&&(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){let t=this._start,r=this._input.substring(this._start,this._current),s={type:19,offset:this._start,lexeme:r};this._errors.push({offset:t,lexeme:r,additionalInfo:e}),this._tokens.push(s)}_string(){this.stringRe.lastIndex=this._start;let e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;let t=this._input.substring(this._start,this._current),r=o._keywords.get(t);r?this._addToken(r):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();if(this._isAtEnd())return void this._error(u);this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,t=!1,r=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(l);return}let s=this._input.charCodeAt(e);if(t)t=!1;else if(47!==s||r)91===s?r=!0:92===s?t=!0:93===s&&(r=!1);else{e++;break}e++}for(;e<this._input.length&&o._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;let s=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:s,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}}o._regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0))),o._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var c=r(65296);let p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",s.dz),p.set("isLinux",s.IJ),p.set("isWindows",s.ED),p.set("isWeb",s.$L),p.set("isMacNative",s.dz&&!s.$L),p.set("isEdge",s.un),p.set("isFirefox",s.vU),p.set("isChrome",s.i7),p.set("isSafari",s.G6);let y=Object.prototype.hasOwnProperty,g={regexParsingWithErrorRecovery:!0},f=(0,a.NC)("contextkey.parser.error.emptyString","Empty context key expression"),_=(0,a.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),d=(0,a.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),v=(0,a.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),k=(0,a.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),x=(0,a.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),E=(0,a.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),m=(0,a.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class N{parse(e){if(""===e)return void this._parsingErrors.push({message:f,offset:0,lexeme:"",additionalInfo:_});this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{let e=this._expr();if(!this._isAtEnd()){let e=this._peek(),t=17===e.type?x:void 0;throw this._parsingErrors.push({message:k,offset:e.offset,lexeme:o.getLexeme(e),additionalInfo:t}),N._parseError}return e}catch(e){if(e!==N._parseError)throw e;return}}_expr(){return this._or()}_or(){let e=[this._and()];for(;this._matchOne(16);){let t=this._and();e.push(t)}return 1===e.length?e[0]:C.or(...e)}_and(){let e=[this._term()];for(;this._matchOne(15);){let t=this._term();e.push(t)}return 1===e.length?e[0]:C.and(...e)}_term(){if(this._matchOne(2)){let e=this._peek();switch(e.type){case 11:return this._advance(),w.INSTANCE;case 12:return this._advance(),I.INSTANCE;case 0:{this._advance();let e=this._expr();return this._consume(1,v),null==e?void 0:e.negate()}case 17:return this._advance(),$.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){let e=this._peek();switch(e.type){case 11:return this._advance(),C.true();case 12:return this._advance(),C.false();case 0:{this._advance();let e=this._expr();return this._consume(1,v),e}case 17:{let t=e.lexeme;if(this._advance(),this._matchOne(9)){let e=this._peek();if(!this._config.regexParsingWithErrorRecovery){let r;if(this._advance(),10!==e.type)throw this._errExpectedButGot("REGEX",e);let s=e.lexeme,i=s.lastIndexOf("/"),n=i===s.length-1?void 0:this._removeFlagsGY(s.substring(i+1));try{r=new RegExp(s.substring(1,i),n)}catch(t){throw this._errExpectedButGot("REGEX",e)}return K.create(t,r)}switch(e.type){case 10:case 19:{let r,s=[e.lexeme];this._advance();let i=this._peek(),n=0;for(let t=0;t<e.lexeme.length;t++)40===e.lexeme.charCodeAt(t)?n++:41===e.lexeme.charCodeAt(t)&&n--;for(;!this._isAtEnd()&&15!==i.type&&16!==i.type;){switch(i.type){case 0:n++;break;case 1:n--;break;case 10:case 18:for(let t=0;t<i.lexeme.length;t++)40===i.lexeme.charCodeAt(t)?n++:41===e.lexeme.charCodeAt(t)&&n--}if(n<0)break;s.push(o.getLexeme(i)),this._advance(),i=this._peek()}let a=s.join(""),h=a.lastIndexOf("/"),u=h===a.length-1?void 0:this._removeFlagsGY(a.substring(h+1));try{r=new RegExp(a.substring(1,h),u)}catch(t){throw this._errExpectedButGot("REGEX",e)}return C.regex(t,r)}case 18:{let r=e.lexeme;this._advance();let s=null;if(!(0,i.m5)(r)){let t=r.indexOf("/"),i=r.lastIndexOf("/");if(t!==i&&t>=0){let n=r.slice(t+1,i),a="i"===r[i+1]?"i":"";try{s=new RegExp(n,a)}catch(t){throw this._errExpectedButGot("REGEX",e)}}}if(null===s)throw this._errExpectedButGot("REGEX",e);return K.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,d);let e=this._value();return C.notIn(t,e)}switch(this._peek().type){case 3:{this._advance();let e=this._value();if(18===this._previous().type)return C.equals(t,e);switch(e){case"true":return C.has(t);case"false":return C.not(t);default:return C.equals(t,e)}}case 4:{this._advance();let e=this._value();if(18===this._previous().type)return C.notEquals(t,e);switch(e){case"true":return C.not(t);case"false":return C.has(t);default:return C.notEquals(t,e)}}case 5:return this._advance(),O.create(t,this._value());case 6:return this._advance(),F.create(t,this._value());case 7:return this._advance(),G.create(t,this._value());case 8:return this._advance(),R.create(t,this._value());case 13:return this._advance(),C.in(t,this._value());default:return C.has(t)}}case 20:throw this._parsingErrors.push({message:E,offset:e.offset,lexeme:"",additionalInfo:m}),N._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){let e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return!!this._check(e)&&(this._advance(),!0)}_advance(){return!this._isAtEnd()&&this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,r){let s=(0,a.NC)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",e,o.getLexeme(t)),i=t.offset,n=o.getLexeme(t);return this._parsingErrors.push({message:s,offset:i,lexeme:n,additionalInfo:r}),N._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}constructor(e=g){this._config=e,this._scanner=new o,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}}N._parseError=Error();class C{static false(){return w.INSTANCE}static true(){return I.INSTANCE}static has(e){return T.create(e)}static equals(e,t){return S.create(e,t)}static notEquals(e,t){return q.create(e,t)}static regex(e,t){return K.create(e,t)}static in(e,t){return D.create(e,t)}static notIn(e,t){return L.create(e,t)}static not(e){return $.create(e)}static and(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Y.create(t,null,!0)}static or(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return B.create(t,null,!0)}static deserialize(e){if(null!=e)return this._parser.parse(e)}}function A(e,t){let r=e?e.substituteConstants():void 0,s=t?t.substituteConstants():void 0;return!r&&!s||!!r&&!!s&&r.equals(s)}function b(e,t){return e.cmp(t)}C._parser=new N({regexParsingWithErrorRecovery:!1});class w{cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return I.INSTANCE}constructor(){this.type=0}}w.INSTANCE=new w;class I{cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return w.INSTANCE}constructor(){this.type=1}}I.INSTANCE=new I;class T{static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=p.get(e);return"boolean"==typeof r?r?I.INSTANCE:w.INSTANCE:new T(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:function(e,t){return e<t?-1:+(e>t)}(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){let e=p.get(this.key);return"boolean"==typeof e?e?I.INSTANCE:w.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=$.create(this.key,this)),this.negated}constructor(e,t){this.key=e,this.negated=t,this.type=2}}class S{static create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("boolean"==typeof t)return t?T.create(e,r):$.create(e,r);let s=p.get(e);return"boolean"==typeof s?t===(s?"true":"false")?I.INSTANCE:w.INSTANCE:new S(e,t,r)}cmp(e){return e.type!==this.type?this.type-e.type:j(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){let e=p.get(this.key);return"boolean"==typeof e?this.value===(e?"true":"false")?I.INSTANCE:w.INSTANCE:this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=q.create(this.key,this.value,this)),this.negated}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=4}}class D{static create(e,t){return new D(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:j(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&this.key===e.key&&this.valueKey===e.valueKey}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.valueKey),r=e.getValue(this.key);return Array.isArray(t)?t.includes(r):"string"==typeof r&&"object"==typeof t&&null!==t&&y.call(t,r)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=L.create(this.key,this.valueKey)),this.negated}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}}class L{static create(e,t){return new L(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=D.create(e,t)}}class q{static create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("boolean"==typeof t)return t?$.create(e,r):T.create(e,r);let s=p.get(e);return"boolean"==typeof s?t===(s?"true":"false")?w.INSTANCE:I.INSTANCE:new q(e,t,r)}cmp(e){return e.type!==this.type?this.type-e.type:j(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){let e=p.get(this.key);return"boolean"==typeof e?this.value===(e?"true":"false")?w.INSTANCE:I.INSTANCE:this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=S.create(this.key,this.value,this)),this.negated}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=5}}class ${static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=p.get(e);return"boolean"==typeof r?r?w.INSTANCE:I.INSTANCE:new $(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:function(e,t){return e<t?-1:+(e>t)}(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){let e=p.get(this.key);return"boolean"==typeof e?e?w.INSTANCE:I.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=T.create(this.key,this)),this.negated}constructor(e,t){this.key=e,this.negated=t,this.type=3}}function z(e,t){if("string"==typeof e){let t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):w.INSTANCE}class G{static create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return z(t,t=>new G(e,t,r))}cmp(e){return e.type!==this.type?this.type-e.type:j(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this.key,this.value,this)),this.negated}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=12}}class R{static create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return z(t,t=>new R(e,t,r))}cmp(e){return e.type!==this.type?this.type-e.type:j(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=O.create(this.key,this.value,this)),this.negated}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=13}}class O{static create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return z(t,t=>new O(e,t,r))}cmp(e){return e.type!==this.type?this.type-e.type:j(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=14}}class F{static create(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return z(t,t=>new F(e,t,r))}cmp(e){return e.type!==this.type?this.type-e.type:j(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this.key,this.value,this)),this.negated}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=15}}class K{static create(e,t){return new K(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return -1;if(this.key>e.key)return 1;let t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return t<r?-1:+(t>r)}equals(e){if(e.type===this.type){let t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return this.key===e.key&&t===r}return!1}substituteConstants(){return this}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){let e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this)),this.negated}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}}class M{static create(e){return new M(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}constructor(e){this._actual=e,this.type=8}}function V(e){let t=null;for(let r=0,s=e.length;r<s;r++){let s=e[r].substituteConstants();if(e[r]!==s&&null===t){t=[];for(let s=0;s<r;s++)t[s]=e[s]}null!==t&&(t[r]=s)}return null===t?e:t}class Y{static create(e,t,r){return Y._normalizeArr(e,t,r)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return -1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){let r=b(this.expr[t],e.expr[t]);if(0!==r)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=V(this.expr);return e===this.expr?this:Y.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,r){let s=[],i=!1;for(let t of e)if(t){if(1===t.type){i=!0;continue}if(0===t.type)return w.INSTANCE;if(6===t.type){s.push(...t.expr);continue}s.push(t)}if(0===s.length&&i)return I.INSTANCE;if(0!==s.length){if(1===s.length)return s[0];s.sort(b);for(let e=1;e<s.length;e++)s[e-1].equals(s[e])&&(s.splice(e,1),e--);if(1===s.length)return s[0];for(;s.length>1;){let e=s[s.length-1];if(9!==e.type)break;s.pop();let t=s.pop(),i=0===s.length,n=B.create(e.expr.map(e=>Y.create([e,t],null,r)),null,i);n&&(s.push(n),s.sort(b))}if(1===s.length)return s[0];if(r){for(let e=0;e<s.length;e++)for(let t=e+1;t<s.length;t++)if(s[e].negate().equals(s[t]))return w.INSTANCE;if(1===s.length)return s[0]}return new Y(s,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());this.negated=B.create(e,this,!0)}return this.negated}constructor(e,t){this.expr=e,this.negated=t,this.type=6}}class B{static create(e,t,r){return B._normalizeArr(e,t,r)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return -1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){let r=b(this.expr[t],e.expr[t]);if(0!==r)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){let e=V(this.expr);return e===this.expr?this:B.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,r){let s=[],i=!1;if(e){for(let t=0,r=e.length;t<r;t++){let r=e[t];if(r){if(0===r.type){i=!0;continue}if(1===r.type)return I.INSTANCE;if(9===r.type){s=s.concat(r.expr);continue}s.push(r)}}if(0===s.length&&i)return w.INSTANCE;s.sort(b)}if(0!==s.length){if(1===s.length)return s[0];for(let e=1;e<s.length;e++)s[e-1].equals(s[e])&&(s.splice(e,1),e--);if(1===s.length)return s[0];if(r){for(let e=0;e<s.length;e++)for(let t=e+1;t<s.length;t++)if(s[e].negate().equals(s[t]))return I.INSTANCE;if(1===s.length)return s[0]}return new B(s,t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){let e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){let e=[];for(let t of this.expr)e.push(t.negate());for(;e.length>1;){let t=e.shift(),r=e.shift(),s=[];for(let e of Z(t))for(let t of Z(r))s.push(Y.create([e,t],null,!1));e.unshift(B.create(s,null,!1))}this.negated=B.create(e,this,!0)}return this.negated}constructor(e,t){this.expr=e,this.negated=t,this.type=9}}class P extends T{static all(){return P._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return S.create(this.key,e)}constructor(e,t,r){super(e,null),this._defaultValue=t,"object"==typeof r?P._info.push({...r,key:e}):!0!==r&&P._info.push({key:e,description:r,type:null!=t?typeof t:void 0})}}P._info=[];let W=(0,c.yh)("contextKeyService");function j(e,t,r,s){return e<r?-1:e>r?1:t<s?-1:+(t>s)}function X(e,t){let r=0,s=0;for(;r<e.length&&s<t.length;){let i=e[r].cmp(t[s]);if(i<0)return!1;0===i&&r++,s++}return r===e.length}function Z(e){return 9===e.type?e.expr:[e]}},27414:function(e,t,r){r.d(t,{Y:()=>s});let s=(0,r(65296).yh)("environmentService")},22933:function(e,t,r){r.d(t,{M:()=>s});class s{constructor(e,t=[],r=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=r}}},79143:function(e,t,r){r.d(t,{d:()=>a,z:()=>n});var s=r(22933);let i=[];function n(e,t,r){t instanceof s.M||(t=new s.M(t,[],!!r)),i.push([e,t])}function a(){return i}},65296:function(e,t,r){var s,i;r.d(t,{I8:()=>s,TG:()=>n,yh:()=>a}),(i=s||(s={})).serviceIds=new Map,i.DI_TARGET="$di$target",i.DI_DEPENDENCIES="$di$dependencies",i.getServiceDependencies=function(e){return e[i.DI_DEPENDENCIES]||[]};let n=a("instantiationService");function a(e){if(s.serviceIds.has(e))return s.serviceIds.get(e);let t=function(e,r,i){if(3!=arguments.length)throw Error("@IServiceName-decorator can only be used to decorate a parameter");e[s.DI_TARGET]===e?e[s.DI_DEPENDENCIES].push({id:t,index:i}):(e[s.DI_DEPENDENCIES]=[{id:t,index:i}],e[s.DI_TARGET]=e)};return t.toString=()=>e,s.serviceIds.set(e,t),t}},28622:function(e,t,r){r.d(t,{VZ:()=>u,in:()=>i,kw:()=>c,qA:()=>p});var s,i,n=r(81549),a=r(55923),h=r(25630);let u=(0,r(65296).yh)("logService");(s=i||(i={}))[s.Off=0]="Off",s[s.Trace=1]="Trace",s[s.Debug=2]="Debug",s[s.Info=3]="Info",s[s.Warning=4]="Warning",s[s.Error=5]="Error";let l=i.Info;class o extends a.JT{setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==i.Off&&this.level<=e}constructor(){super(...arguments),this.level=l,this._onDidChangeLogLevel=this._register(new n.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}}class c extends o{trace(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.checkLogLevel(i.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...r):console.log(e,...r))}debug(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.checkLogLevel(i.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...r):console.log(e,...r))}info(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.checkLogLevel(i.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...r):console.log(e,...r))}warn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.checkLogLevel(i.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...r):console.log(e,...r))}error(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];this.checkLogLevel(i.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...r):console.error(e,...r))}constructor(e=l,t=!0){super(),this.useColors=t,this.setLevel(e)}}class p extends o{setLevel(e){for(let t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(let t of this.loggers)t.trace(e,...r)}debug(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(let t of this.loggers)t.debug(e,...r)}info(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(let t of this.loggers)t.info(e,...r)}warn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(let t of this.loggers)t.warn(e,...r)}error(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(let t of this.loggers)t.error(e,...r)}dispose(){for(let e of this.loggers)e.dispose();super.dispose()}constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}}new h.uy("logLevel",function(e){switch(e){case i.Trace:return"trace";case i.Debug:return"debug";case i.Info:return"info";case i.Warning:return"warn";case i.Error:return"error";case i.Off:return"off"}}(i.Info))}}]);